2023-07-05 08:52:19.763 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-05 08:52:20.041 +07:00 [DBG] Hosting starting
2023-07-05 08:52:20.725 +07:00 [INF] Now listening on: http://localhost:5240
2023-07-05 08:52:20.725 +07:00 [DBG] Loaded hosting startup assembly MagicVilla
2023-07-05 08:52:20.725 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-05 08:52:20.725 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-05 08:52:20.725 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-05 08:52:20.726 +07:00 [INF] Hosting environment: Development
2023-07-05 08:52:20.726 +07:00 [INF] Content root path: C:\Users\This PC\source\repos\MagicVilla\MagicVilla\
2023-07-05 08:52:20.726 +07:00 [DBG] Hosting started
2023-07-05 08:52:20.939 +07:00 [DBG] Connection id "0HMRSV9S8TR8T" accepted.
2023-07-05 08:52:20.939 +07:00 [DBG] Connection id "0HMRSV9S8TR8U" accepted.
2023-07-05 08:52:21.190 +07:00 [DBG] Connection id "0HMRSV9S8TR8T" started.
2023-07-05 08:52:21.190 +07:00 [DBG] Connection id "0HMRSV9S8TR8U" started.
2023-07-05 08:52:21.404 +07:00 [DBG] Connection id "0HMRSV9S8TR8T" received FIN.
2023-07-05 08:52:21.404 +07:00 [DBG] Connection id "0HMRSV9S8TR8U" received FIN.
2023-07-05 08:52:21.454 +07:00 [DBG] Connection id "0HMRSV9S8TR8T" sending FIN because: "The client closed the connection."
2023-07-05 08:52:21.454 +07:00 [DBG] Connection id "0HMRSV9S8TR8U" sending FIN because: "The client closed the connection."
2023-07-05 08:52:21.456 +07:00 [DBG] Connection id "0HMRSV9S8TR8T" disconnecting.
2023-07-05 08:52:21.456 +07:00 [DBG] Connection id "0HMRSV9S8TR8U" disconnecting.
2023-07-05 08:52:21.463 +07:00 [DBG] Connection id "0HMRSV9S8TR8U" stopped.
2023-07-05 08:52:21.463 +07:00 [DBG] Connection id "0HMRSV9S8TR8T" stopped.
2023-07-05 08:52:23.423 +07:00 [DBG] Connection id "0HMRSV9S8TR8V" accepted.
2023-07-05 08:52:23.424 +07:00 [DBG] Connection id "0HMRSV9S8TR8V" started.
2023-07-05 08:52:23.426 +07:00 [DBG] Connection id "0HMRSV9S8TR90" accepted.
2023-07-05 08:52:23.427 +07:00 [DBG] Connection id "0HMRSV9S8TR90" started.
2023-07-05 08:52:23.542 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/swagger - -
2023-07-05 08:52:23.873 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-05 08:52:23.911 +07:00 [DBG] No candidates found for the request path '/swagger'
2023-07-05 08:52:23.912 +07:00 [DBG] Request did not match any endpoints
2023-07-05 08:52:24.002 +07:00 [DBG] Connection id "0HMRSV9S8TR8V" completed keep alive response.
2023-07-05 08:52:24.006 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/swagger - - - 301 0 - 473.7570ms
2023-07-05 08:52:24.029 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/swagger/index.html - -
2023-07-05 08:52:24.031 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-07-05 08:52:24.031 +07:00 [DBG] Request did not match any endpoints
2023-07-05 08:52:24.208 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-05 08:52:24.826 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/swagger/swagger-ui.css - -
2023-07-05 08:52:24.826 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-07-05 08:52:24.827 +07:00 [DBG] Request did not match any endpoints
2023-07-05 08:52:24.829 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-05 08:52:24.829 +07:00 [DBG] Connection id "0HMRSV9S8TR8V" completed keep alive response.
2023-07-05 08:52:24.830 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/swagger/index.html - - - 200 - text/html;charset=utf-8 799.9947ms
2023-07-05 08:52:24.836 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/swagger/swagger-ui-bundle.js - -
2023-07-05 08:52:24.836 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-07-05 08:52:24.836 +07:00 [DBG] Request did not match any endpoints
2023-07-05 08:52:24.840 +07:00 [DBG] Connection id "0HMRSV9S8TR91" accepted.
2023-07-05 08:52:24.840 +07:00 [DBG] Connection id "0HMRSV9S8TR91" started.
2023-07-05 08:52:24.842 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/swagger/swagger-ui-standalone-preset.js - -
2023-07-05 08:52:24.842 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-07-05 08:52:24.842 +07:00 [DBG] Request did not match any endpoints
2023-07-05 08:52:24.878 +07:00 [DBG] Connection id "0HMRSV9S8TR92" accepted.
2023-07-05 08:52:24.878 +07:00 [DBG] Connection id "0HMRSV9S8TR92" started.
2023-07-05 08:52:24.879 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/_vs/browserLink - -
2023-07-05 08:52:24.927 +07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-07-05 08:52:24.927 +07:00 [DBG] Connection id "0HMRSV9S8TR90" completed keep alive response.
2023-07-05 08:52:24.927 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/swagger/swagger-ui.css - - - 200 143632 text/css 100.7640ms
2023-07-05 08:52:24.927 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/_framework/aspnetcore-browser-refresh.js - -
2023-07-05 08:52:24.927 +07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-07-05 08:52:24.927 +07:00 [DBG] Connection id "0HMRSV9S8TR91" completed keep alive response.
2023-07-05 08:52:24.928 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 86.0850ms
2023-07-05 08:52:24.942 +07:00 [DBG] Connection id "0HMRSV9S8TR90" completed keep alive response.
2023-07-05 08:52:24.943 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 15.3807ms
2023-07-05 08:52:24.973 +07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-07-05 08:52:24.973 +07:00 [DBG] Connection id "0HMRSV9S8TR8V" completed keep alive response.
2023-07-05 08:52:24.973 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 137.2668ms
2023-07-05 08:52:25.080 +07:00 [DBG] Connection id "0HMRSV9S8TR92" completed keep alive response.
2023-07-05 08:52:25.080 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 201.1944ms
2023-07-05 08:52:25.218 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/swagger/v1/swagger.json - -
2023-07-05 08:52:25.218 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-07-05 08:52:25.218 +07:00 [DBG] Request did not match any endpoints
2023-07-05 08:52:25.244 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/swagger/favicon-32x32.png - -
2023-07-05 08:52:25.244 +07:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2023-07-05 08:52:25.244 +07:00 [DBG] Request did not match any endpoints
2023-07-05 08:52:25.244 +07:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-07-05 08:52:25.244 +07:00 [DBG] Connection id "0HMRSV9S8TR8V" completed keep alive response.
2023-07-05 08:52:25.245 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/swagger/favicon-32x32.png - - - 200 628 image/png 0.5869ms
2023-07-05 08:52:25.499 +07:00 [DBG] Connection id "0HMRSV9S8TR92" completed keep alive response.
2023-07-05 08:52:25.500 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 281.9547ms
2023-07-05 08:52:28.424 +07:00 [DBG] Connection id "0HMRSV9S8TR90" received FIN.
2023-07-05 08:52:28.425 +07:00 [DBG] Connection id "0HMRSV9S8TR91" received FIN.
2023-07-05 08:52:28.424 +07:00 [DBG] Connection id "0HMRSV9S8TR8V" received FIN.
2023-07-05 08:52:28.425 +07:00 [DBG] Connection id "0HMRSV9S8TR92" received FIN.
2023-07-05 08:52:28.425 +07:00 [DBG] Connection id "0HMRSV9S8TR91" sending FIN because: "The client closed the connection."
2023-07-05 08:52:28.425 +07:00 [DBG] Connection id "0HMRSV9S8TR90" sending FIN because: "The client closed the connection."
2023-07-05 08:52:28.425 +07:00 [DBG] Connection id "0HMRSV9S8TR8V" sending FIN because: "The client closed the connection."
2023-07-05 08:52:28.425 +07:00 [DBG] Connection id "0HMRSV9S8TR90" disconnecting.
2023-07-05 08:52:28.425 +07:00 [DBG] Connection id "0HMRSV9S8TR8V" disconnecting.
2023-07-05 08:52:28.425 +07:00 [DBG] Connection id "0HMRSV9S8TR92" sending FIN because: "The client closed the connection."
2023-07-05 08:52:28.425 +07:00 [DBG] Connection id "0HMRSV9S8TR91" disconnecting.
2023-07-05 08:52:28.425 +07:00 [DBG] Connection id "0HMRSV9S8TR92" disconnecting.
2023-07-05 08:52:28.430 +07:00 [DBG] Connection id "0HMRSV9S8TR92" stopped.
2023-07-05 08:52:28.430 +07:00 [DBG] Connection id "0HMRSV9S8TR8V" stopped.
2023-07-05 08:52:28.430 +07:00 [DBG] Connection id "0HMRSV9S8TR90" stopped.
2023-07-05 08:52:28.430 +07:00 [DBG] Connection id "0HMRSV9S8TR91" stopped.
2023-07-05 08:52:28.581 +07:00 [DBG] Connection id "0HMRSV9S8TR93" accepted.
2023-07-05 08:52:28.581 +07:00 [DBG] Connection id "0HMRSV9S8TR93" started.
2023-07-05 08:52:28.581 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/api/VillaAPI - -
2023-07-05 08:52:28.591 +07:00 [DBG] 1 candidate(s) found for the request path '/api/VillaAPI'
2023-07-05 08:52:28.597 +07:00 [DBG] Endpoint 'RestfulAPICRUDExample.Controllers.VillaAPIController.GetVillas (MagicVilla)' with route pattern 'api/VillaAPI' is valid for the request path '/api/VillaAPI'
2023-07-05 08:52:28.598 +07:00 [DBG] Request matched endpoint 'RestfulAPICRUDExample.Controllers.VillaAPIController.GetVillas (MagicVilla)'
2023-07-05 08:52:28.598 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-05 08:52:28.603 +07:00 [INF] Executing endpoint 'RestfulAPICRUDExample.Controllers.VillaAPIController.GetVillas (MagicVilla)'
2023-07-05 08:52:28.628 +07:00 [INF] Route matched with {action = "GetVillas", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla.Models.APIResponse]] GetVillas() on controller RestfulAPICRUDExample.Controllers.VillaAPIController (MagicVilla).
2023-07-05 08:52:28.629 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-05 08:52:28.629 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-05 08:52:28.629 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-05 08:52:28.629 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-05 08:52:28.629 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-05 08:52:28.630 +07:00 [DBG] Executing controller factory for controller RestfulAPICRUDExample.Controllers.VillaAPIController (MagicVilla)
2023-07-05 08:52:29.671 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-05 08:52:29.868 +07:00 [DBG] Executed controller factory for controller RestfulAPICRUDExample.Controllers.VillaAPIController (MagicVilla)
2023-07-05 08:52:30.810 +07:00 [INF] Entity Framework Core 6.0.19 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.19' with options: None
2023-07-05 08:52:31.197 +07:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-07-05 08:52:31.459 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-07-05 08:52:31.542 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-05 08:52:31.609 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (61ms).
2023-07-05 08:52:31.627 +07:00 [DBG] Opening connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 08:52:32.188 +07:00 [DBG] Opened connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 08:52:32.207 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
2023-07-05 08:52:32.462 +07:00 [INF] Executed DbCommand (258ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
2023-07-05 08:52:32.546 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 08:52:32.610 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 08:52:32.610 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 08:52:32.610 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 08:52:32.626 +07:00 [DBG] A data reader was disposed.
2023-07-05 08:52:32.638 +07:00 [DBG] Closing connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 08:52:32.653 +07:00 [DBG] Closed connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 08:52:32.695 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-05 08:52:32.700 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-07-05 08:52:32.701 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-07-05 08:52:32.701 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-05 08:52:32.701 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-05 08:52:32.702 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-05 08:52:32.702 +07:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla.Models.APIResponse'.
2023-07-05 08:52:32.721 +07:00 [INF] Executed action RestfulAPICRUDExample.Controllers.VillaAPIController.GetVillas (MagicVilla) in 4085.1186ms
2023-07-05 08:52:32.722 +07:00 [INF] Executed endpoint 'RestfulAPICRUDExample.Controllers.VillaAPIController.GetVillas (MagicVilla)'
2023-07-05 08:52:32.723 +07:00 [DBG] Connection id "0HMRSV9S8TR93" completed keep alive response.
2023-07-05 08:52:32.729 +07:00 [DBG] 'ApplicationDbContext' disposed.
2023-07-05 08:52:32.736 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/api/VillaAPI - - - 200 - application/json;+charset=utf-8 4154.4443ms
2023-07-05 08:52:33.432 +07:00 [DBG] Connection id "0HMRSV9S8TR93" received FIN.
2023-07-05 08:52:33.432 +07:00 [DBG] Connection id "0HMRSV9S8TR93" sending FIN because: "The client closed the connection."
2023-07-05 08:52:33.432 +07:00 [DBG] Connection id "0HMRSV9S8TR93" disconnecting.
2023-07-05 08:52:33.432 +07:00 [DBG] Connection id "0HMRSV9S8TR93" stopped.
2023-07-05 09:00:26.644 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-05 09:00:26.902 +07:00 [DBG] Hosting starting
2023-07-05 09:00:27.260 +07:00 [INF] Now listening on: http://localhost:5240
2023-07-05 09:00:27.260 +07:00 [DBG] Loaded hosting startup assembly MagicVilla
2023-07-05 09:00:27.261 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-05 09:00:27.261 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-05 09:00:27.261 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-05 09:00:27.261 +07:00 [INF] Hosting environment: Development
2023-07-05 09:00:27.262 +07:00 [INF] Content root path: C:\Users\This PC\source\repos\MagicVilla\MagicVilla\
2023-07-05 09:00:27.262 +07:00 [DBG] Hosting started
2023-07-05 09:00:27.552 +07:00 [DBG] Connection id "0HMRSVED9LD6H" received FIN.
2023-07-05 09:00:27.552 +07:00 [DBG] Connection id "0HMRSVED9LD6I" received FIN.
2023-07-05 09:00:27.572 +07:00 [DBG] Connection id "0HMRSVED9LD6I" accepted.
2023-07-05 09:00:27.572 +07:00 [DBG] Connection id "0HMRSVED9LD6H" accepted.
2023-07-05 09:00:27.573 +07:00 [DBG] Connection id "0HMRSVED9LD6H" started.
2023-07-05 09:00:27.573 +07:00 [DBG] Connection id "0HMRSVED9LD6I" started.
2023-07-05 09:00:27.593 +07:00 [DBG] Connection id "0HMRSVED9LD6I" sending FIN because: "The client closed the connection."
2023-07-05 09:00:27.593 +07:00 [DBG] Connection id "0HMRSVED9LD6H" sending FIN because: "The client closed the connection."
2023-07-05 09:00:27.597 +07:00 [DBG] Connection id "0HMRSVED9LD6I" disconnecting.
2023-07-05 09:00:27.597 +07:00 [DBG] Connection id "0HMRSVED9LD6H" disconnecting.
2023-07-05 09:00:27.616 +07:00 [DBG] Connection id "0HMRSVED9LD6H" stopped.
2023-07-05 09:00:27.616 +07:00 [DBG] Connection id "0HMRSVED9LD6I" stopped.
2023-07-05 09:00:28.298 +07:00 [DBG] Connection id "0HMRSVED9LD6J" accepted.
2023-07-05 09:00:28.298 +07:00 [DBG] Connection id "0HMRSVED9LD6K" accepted.
2023-07-05 09:00:28.299 +07:00 [DBG] Connection id "0HMRSVED9LD6K" started.
2023-07-05 09:00:28.299 +07:00 [DBG] Connection id "0HMRSVED9LD6J" started.
2023-07-05 09:00:28.384 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/swagger/index.html - -
2023-07-05 09:00:28.453 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-05 09:00:28.487 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-07-05 09:00:28.487 +07:00 [DBG] Request did not match any endpoints
2023-07-05 09:00:28.662 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-05 09:00:28.860 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-05 09:00:28.861 +07:00 [DBG] Connection id "0HMRSVED9LD6J" completed keep alive response.
2023-07-05 09:00:28.863 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/swagger/index.html - - - 200 - text/html;charset=utf-8 491.0875ms
2023-07-05 09:00:28.879 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/_vs/browserLink - -
2023-07-05 09:00:28.883 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/_framework/aspnetcore-browser-refresh.js - -
2023-07-05 09:00:28.896 +07:00 [DBG] Connection id "0HMRSVED9LD6J" completed keep alive response.
2023-07-05 09:00:28.896 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 13.3261ms
2023-07-05 09:00:28.925 +07:00 [DBG] Connection id "0HMRSVED9LD6K" completed keep alive response.
2023-07-05 09:00:28.925 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 46.1105ms
2023-07-05 09:00:29.133 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/swagger/v1/swagger.json - -
2023-07-05 09:00:29.133 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-07-05 09:00:29.133 +07:00 [DBG] Request did not match any endpoints
2023-07-05 09:00:29.403 +07:00 [DBG] Connection id "0HMRSVED9LD6K" completed keep alive response.
2023-07-05 09:00:29.403 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 270.1996ms
2023-07-05 09:00:33.090 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/api/VillaAPI - -
2023-07-05 09:00:33.096 +07:00 [DBG] 1 candidate(s) found for the request path '/api/VillaAPI'
2023-07-05 09:00:33.105 +07:00 [DBG] Endpoint 'RestfulAPICRUDExample.Controllers.VillaAPIController.GetVillas (MagicVilla)' with route pattern 'api/VillaAPI' is valid for the request path '/api/VillaAPI'
2023-07-05 09:00:33.106 +07:00 [DBG] Request matched endpoint 'RestfulAPICRUDExample.Controllers.VillaAPIController.GetVillas (MagicVilla)'
2023-07-05 09:00:33.108 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-05 09:00:33.113 +07:00 [INF] Executing endpoint 'RestfulAPICRUDExample.Controllers.VillaAPIController.GetVillas (MagicVilla)'
2023-07-05 09:00:33.149 +07:00 [INF] Route matched with {action = "GetVillas", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla.Models.APIResponse]] GetVillas() on controller RestfulAPICRUDExample.Controllers.VillaAPIController (MagicVilla).
2023-07-05 09:00:33.150 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-05 09:00:33.150 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-05 09:00:33.151 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-05 09:00:33.151 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-05 09:00:33.151 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-05 09:00:33.153 +07:00 [DBG] Executing controller factory for controller RestfulAPICRUDExample.Controllers.VillaAPIController (MagicVilla)
2023-07-05 09:00:33.425 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-05 09:00:33.614 +07:00 [DBG] Executed controller factory for controller RestfulAPICRUDExample.Controllers.VillaAPIController (MagicVilla)
2023-07-05 09:00:34.193 +07:00 [DBG] Connection id "0HMRSVED9LD6J" received FIN.
2023-07-05 09:00:34.193 +07:00 [DBG] Connection id "0HMRSVED9LD6J" sending FIN because: "The client closed the connection."
2023-07-05 09:00:34.193 +07:00 [DBG] Connection id "0HMRSVED9LD6J" disconnecting.
2023-07-05 09:00:34.196 +07:00 [DBG] Connection id "0HMRSVED9LD6J" stopped.
2023-07-05 09:00:34.385 +07:00 [INF] Entity Framework Core 6.0.19 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.19' with options: None
2023-07-05 09:00:34.481 +07:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-07-05 09:00:34.703 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-07-05 09:00:34.758 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-05 09:00:34.813 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (49ms).
2023-07-05 09:00:34.825 +07:00 [DBG] Opening connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:00:35.336 +07:00 [DBG] Opened connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:00:35.352 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
2023-07-05 09:00:35.421 +07:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
2023-07-05 09:00:35.487 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 09:00:35.533 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 09:00:35.534 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 09:00:35.534 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 09:00:35.548 +07:00 [DBG] A data reader was disposed.
2023-07-05 09:00:35.557 +07:00 [DBG] Closing connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:00:35.569 +07:00 [DBG] Closed connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:00:35.604 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-05 09:00:35.607 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-07-05 09:00:35.607 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-07-05 09:00:35.607 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-05 09:00:35.607 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-05 09:00:35.608 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-05 09:00:35.609 +07:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla.Models.APIResponse'.
2023-07-05 09:00:35.624 +07:00 [INF] Executed action RestfulAPICRUDExample.Controllers.VillaAPIController.GetVillas (MagicVilla) in 2468.061ms
2023-07-05 09:00:35.626 +07:00 [INF] Executed endpoint 'RestfulAPICRUDExample.Controllers.VillaAPIController.GetVillas (MagicVilla)'
2023-07-05 09:00:35.627 +07:00 [DBG] Connection id "0HMRSVED9LD6K" completed keep alive response.
2023-07-05 09:00:35.633 +07:00 [DBG] 'ApplicationDbContext' disposed.
2023-07-05 09:00:35.637 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/api/VillaAPI - - - 200 - application/json;+charset=utf-8 2547.7668ms
2023-07-05 09:01:26.563 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-05 09:01:26.850 +07:00 [DBG] Hosting starting
2023-07-05 09:01:27.087 +07:00 [INF] Now listening on: http://localhost:5240
2023-07-05 09:01:27.087 +07:00 [DBG] Loaded hosting startup assembly MagicVilla
2023-07-05 09:01:27.087 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-05 09:01:27.087 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-05 09:01:27.087 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-05 09:01:27.088 +07:00 [INF] Hosting environment: Development
2023-07-05 09:01:27.088 +07:00 [INF] Content root path: C:\Users\This PC\source\repos\MagicVilla\MagicVilla\
2023-07-05 09:01:27.088 +07:00 [DBG] Hosting started
2023-07-05 09:01:27.499 +07:00 [DBG] Connection id "0HMRSVEV5BJSU" received FIN.
2023-07-05 09:01:27.505 +07:00 [DBG] Connection id "0HMRSVEV5BJSV" received FIN.
2023-07-05 09:01:27.514 +07:00 [DBG] Connection id "0HMRSVEV5BJSV" accepted.
2023-07-05 09:01:27.514 +07:00 [DBG] Connection id "0HMRSVEV5BJSU" accepted.
2023-07-05 09:01:27.515 +07:00 [DBG] Connection id "0HMRSVEV5BJSU" started.
2023-07-05 09:01:27.515 +07:00 [DBG] Connection id "0HMRSVEV5BJSV" started.
2023-07-05 09:01:27.539 +07:00 [DBG] Connection id "0HMRSVEV5BJSV" sending FIN because: "The client closed the connection."
2023-07-05 09:01:27.539 +07:00 [DBG] Connection id "0HMRSVEV5BJSU" sending FIN because: "The client closed the connection."
2023-07-05 09:01:27.543 +07:00 [DBG] Connection id "0HMRSVEV5BJSV" disconnecting.
2023-07-05 09:01:27.543 +07:00 [DBG] Connection id "0HMRSVEV5BJSU" disconnecting.
2023-07-05 09:01:27.564 +07:00 [DBG] Connection id "0HMRSVEV5BJSU" stopped.
2023-07-05 09:01:27.564 +07:00 [DBG] Connection id "0HMRSVEV5BJSV" stopped.
2023-07-05 09:01:27.991 +07:00 [DBG] Connection id "0HMRSVEV5BJT0" accepted.
2023-07-05 09:01:27.991 +07:00 [DBG] Connection id "0HMRSVEV5BJT0" started.
2023-07-05 09:01:27.992 +07:00 [DBG] Connection id "0HMRSVEV5BJT1" accepted.
2023-07-05 09:01:27.992 +07:00 [DBG] Connection id "0HMRSVEV5BJT1" started.
2023-07-05 09:01:28.080 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/swagger/index.html - -
2023-07-05 09:01:28.152 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-05 09:01:28.198 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-07-05 09:01:28.198 +07:00 [DBG] Request did not match any endpoints
2023-07-05 09:01:28.354 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-05 09:01:28.543 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-05 09:01:28.544 +07:00 [DBG] Connection id "0HMRSVEV5BJT0" completed keep alive response.
2023-07-05 09:01:28.547 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/swagger/index.html - - - 200 - text/html;charset=utf-8 474.9654ms
2023-07-05 09:01:28.559 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/_vs/browserLink - -
2023-07-05 09:01:28.565 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/_framework/aspnetcore-browser-refresh.js - -
2023-07-05 09:01:28.575 +07:00 [DBG] Connection id "0HMRSVEV5BJT0" completed keep alive response.
2023-07-05 09:01:28.575 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 9.7163ms
2023-07-05 09:01:28.605 +07:00 [DBG] Connection id "0HMRSVEV5BJT1" completed keep alive response.
2023-07-05 09:01:28.605 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 45.5675ms
2023-07-05 09:01:28.712 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/swagger/v1/swagger.json - -
2023-07-05 09:01:28.712 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-07-05 09:01:28.712 +07:00 [DBG] Request did not match any endpoints
2023-07-05 09:01:28.963 +07:00 [DBG] Connection id "0HMRSVEV5BJT1" completed keep alive response.
2023-07-05 09:01:28.963 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 251.6054ms
2023-07-05 09:01:33.078 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/api/VillaAPI - -
2023-07-05 09:01:33.087 +07:00 [DBG] 1 candidate(s) found for the request path '/api/VillaAPI'
2023-07-05 09:01:33.091 +07:00 [DBG] Endpoint 'MagicVilla.Controllers.VillaAPIController.GetVillas (MagicVilla)' with route pattern 'api/VillaAPI' is valid for the request path '/api/VillaAPI'
2023-07-05 09:01:33.091 +07:00 [DBG] Request matched endpoint 'MagicVilla.Controllers.VillaAPIController.GetVillas (MagicVilla)'
2023-07-05 09:01:33.093 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-05 09:01:33.096 +07:00 [INF] Executing endpoint 'MagicVilla.Controllers.VillaAPIController.GetVillas (MagicVilla)'
2023-07-05 09:01:33.114 +07:00 [INF] Route matched with {action = "GetVillas", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla.Models.APIResponse]] GetVillas() on controller MagicVilla.Controllers.VillaAPIController (MagicVilla).
2023-07-05 09:01:33.115 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-05 09:01:33.115 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-05 09:01:33.115 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-05 09:01:33.115 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-05 09:01:33.115 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-05 09:01:33.116 +07:00 [DBG] Executing controller factory for controller MagicVilla.Controllers.VillaAPIController (MagicVilla)
2023-07-05 09:01:33.385 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-05 09:01:33.570 +07:00 [DBG] Executed controller factory for controller MagicVilla.Controllers.VillaAPIController (MagicVilla)
2023-07-05 09:01:34.264 +07:00 [DBG] Connection id "0HMRSVEV5BJT0" received FIN.
2023-07-05 09:01:34.264 +07:00 [DBG] Connection id "0HMRSVEV5BJT0" sending FIN because: "The client closed the connection."
2023-07-05 09:01:34.264 +07:00 [DBG] Connection id "0HMRSVEV5BJT0" disconnecting.
2023-07-05 09:01:34.268 +07:00 [DBG] Connection id "0HMRSVEV5BJT0" stopped.
2023-07-05 09:01:34.376 +07:00 [INF] Entity Framework Core 6.0.19 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.19' with options: None
2023-07-05 09:01:34.486 +07:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-07-05 09:01:34.706 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-07-05 09:01:34.769 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-05 09:01:34.827 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (53ms).
2023-07-05 09:01:34.840 +07:00 [DBG] Opening connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:01:35.372 +07:00 [DBG] Opened connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:01:35.386 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
2023-07-05 09:01:35.476 +07:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
2023-07-05 09:01:35.548 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 09:01:35.600 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 09:01:35.600 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 09:01:35.600 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 09:01:35.618 +07:00 [DBG] A data reader was disposed.
2023-07-05 09:01:35.627 +07:00 [DBG] Closing connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:01:35.641 +07:00 [DBG] Closed connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:01:35.677 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-05 09:01:35.683 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-07-05 09:01:35.683 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-07-05 09:01:35.684 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-05 09:01:35.684 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-05 09:01:35.685 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-05 09:01:35.685 +07:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla.Models.APIResponse'.
2023-07-05 09:01:35.708 +07:00 [INF] Executed action MagicVilla.Controllers.VillaAPIController.GetVillas (MagicVilla) in 2584.8172ms
2023-07-05 09:01:35.711 +07:00 [INF] Executed endpoint 'MagicVilla.Controllers.VillaAPIController.GetVillas (MagicVilla)'
2023-07-05 09:01:35.713 +07:00 [DBG] Connection id "0HMRSVEV5BJT1" completed keep alive response.
2023-07-05 09:01:35.721 +07:00 [DBG] 'ApplicationDbContext' disposed.
2023-07-05 09:01:35.727 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/api/VillaAPI - - - 200 - application/json;+charset=utf-8 2648.3911ms
2023-07-05 09:01:44.272 +07:00 [DBG] Connection id "0HMRSVEV5BJT1" received FIN.
2023-07-05 09:01:44.272 +07:00 [DBG] Connection id "0HMRSVEV5BJT1" sending FIN because: "The client closed the connection."
2023-07-05 09:01:44.272 +07:00 [DBG] Connection id "0HMRSVEV5BJT1" disconnecting.
2023-07-05 09:01:44.273 +07:00 [DBG] Connection id "0HMRSVEV5BJT1" stopped.
2023-07-05 09:01:48.947 +07:00 [DBG] Connection id "0HMRSVEV5BJT2" accepted.
2023-07-05 09:01:48.947 +07:00 [DBG] Connection id "0HMRSVEV5BJT2" started.
2023-07-05 09:01:48.948 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5240/api/UsersAuth/login application/json 55
2023-07-05 09:01:48.949 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-07-05 09:01:48.949 +07:00 [DBG] Endpoint 'MagicVilla.Controllers.UsersController.Login (MagicVilla)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-07-05 09:01:48.950 +07:00 [DBG] Request matched endpoint 'MagicVilla.Controllers.UsersController.Login (MagicVilla)'
2023-07-05 09:01:48.950 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-05 09:01:48.950 +07:00 [INF] Executing endpoint 'MagicVilla.Controllers.UsersController.Login (MagicVilla)'
2023-07-05 09:01:48.965 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla.Models.DTO.LoginRequestDTO) on controller MagicVilla.Controllers.UsersController (MagicVilla).
2023-07-05 09:01:48.965 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-05 09:01:48.965 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-05 09:01:48.966 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-05 09:01:48.966 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-05 09:01:48.966 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-05 09:01:48.966 +07:00 [DBG] Executing controller factory for controller MagicVilla.Controllers.UsersController (MagicVilla)
2023-07-05 09:01:48.972 +07:00 [INF] Executed action MagicVilla.Controllers.UsersController.Login (MagicVilla) in 6.4146ms
2023-07-05 09:01:48.973 +07:00 [INF] Executed endpoint 'MagicVilla.Controllers.UsersController.Login (MagicVilla)'
2023-07-05 09:01:48.975 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'MagicVilla.Repository.IRepository.IUserRepository' while attempting to activate 'MagicVilla.Controllers.UsersController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method76(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass7_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-05 09:01:49.036 +07:00 [DBG] Connection id "0HMRSVEV5BJT2" completed keep alive response.
2023-07-05 09:01:49.036 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5240/api/UsersAuth/login application/json 55 - 500 - text/plain;+charset=utf-8 88.1443ms
2023-07-05 09:01:49.037 +07:00 [DBG] Connection id "0HMRSVEV5BJT2", Request id "0HMRSVEV5BJT2:00000002": started reading request body.
2023-07-05 09:01:49.037 +07:00 [DBG] Connection id "0HMRSVEV5BJT2", Request id "0HMRSVEV5BJT2:00000002": done reading request body.
2023-07-05 09:01:54.276 +07:00 [DBG] Connection id "0HMRSVEV5BJT2" received FIN.
2023-07-05 09:01:54.276 +07:00 [DBG] Connection id "0HMRSVEV5BJT2" sending FIN because: "The client closed the connection."
2023-07-05 09:01:54.276 +07:00 [DBG] Connection id "0HMRSVEV5BJT2" disconnecting.
2023-07-05 09:01:54.276 +07:00 [DBG] Connection id "0HMRSVEV5BJT2" stopped.
2023-07-05 09:03:45.131 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-05 09:03:45.344 +07:00 [DBG] Hosting starting
2023-07-05 09:03:45.589 +07:00 [INF] Now listening on: http://localhost:5240
2023-07-05 09:03:45.589 +07:00 [DBG] Loaded hosting startup assembly MagicVilla
2023-07-05 09:03:45.589 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-05 09:03:45.589 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-05 09:03:45.589 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-05 09:03:45.590 +07:00 [INF] Hosting environment: Development
2023-07-05 09:03:45.590 +07:00 [INF] Content root path: C:\Users\This PC\source\repos\MagicVilla\MagicVilla\
2023-07-05 09:03:45.590 +07:00 [DBG] Hosting started
2023-07-05 09:03:45.974 +07:00 [DBG] Connection id "0HMRSVG8DT6UQ" received FIN.
2023-07-05 09:03:45.974 +07:00 [DBG] Connection id "0HMRSVG8DT6UP" received FIN.
2023-07-05 09:03:45.977 +07:00 [DBG] Connection id "0HMRSVG8DT6UQ" accepted.
2023-07-05 09:03:45.977 +07:00 [DBG] Connection id "0HMRSVG8DT6UP" accepted.
2023-07-05 09:03:46.022 +07:00 [DBG] Connection id "0HMRSVG8DT6UP" started.
2023-07-05 09:03:46.037 +07:00 [DBG] Connection id "0HMRSVG8DT6UQ" started.
2023-07-05 09:03:46.111 +07:00 [DBG] Connection id "0HMRSVG8DT6UP" sending FIN because: "The client closed the connection."
2023-07-05 09:03:46.111 +07:00 [DBG] Connection id "0HMRSVG8DT6UQ" sending FIN because: "The client closed the connection."
2023-07-05 09:03:46.115 +07:00 [DBG] Connection id "0HMRSVG8DT6UQ" disconnecting.
2023-07-05 09:03:46.115 +07:00 [DBG] Connection id "0HMRSVG8DT6UP" disconnecting.
2023-07-05 09:03:46.126 +07:00 [DBG] Connection id "0HMRSVG8DT6UP" stopped.
2023-07-05 09:03:46.126 +07:00 [DBG] Connection id "0HMRSVG8DT6UQ" stopped.
2023-07-05 09:03:46.554 +07:00 [DBG] Connection id "0HMRSVG8DT6UR" accepted.
2023-07-05 09:03:46.554 +07:00 [DBG] Connection id "0HMRSVG8DT6UR" started.
2023-07-05 09:03:46.555 +07:00 [DBG] Connection id "0HMRSVG8DT6US" accepted.
2023-07-05 09:03:46.556 +07:00 [DBG] Connection id "0HMRSVG8DT6US" started.
2023-07-05 09:03:46.685 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/swagger/index.html - -
2023-07-05 09:03:46.760 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-05 09:03:46.805 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-07-05 09:03:46.806 +07:00 [DBG] Request did not match any endpoints
2023-07-05 09:03:47.018 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-05 09:03:47.232 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-05 09:03:47.232 +07:00 [DBG] Connection id "0HMRSVG8DT6UR" completed keep alive response.
2023-07-05 09:03:47.235 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/swagger/index.html - - - 200 - text/html;charset=utf-8 557.5842ms
2023-07-05 09:03:47.253 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/_vs/browserLink - -
2023-07-05 09:03:47.261 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/_framework/aspnetcore-browser-refresh.js - -
2023-07-05 09:03:47.276 +07:00 [DBG] Connection id "0HMRSVG8DT6UR" completed keep alive response.
2023-07-05 09:03:47.276 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 14.8841ms
2023-07-05 09:03:47.318 +07:00 [DBG] Connection id "0HMRSVG8DT6US" completed keep alive response.
2023-07-05 09:03:47.319 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 65.2366ms
2023-07-05 09:03:47.413 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/swagger/v1/swagger.json - -
2023-07-05 09:03:47.413 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-07-05 09:03:47.414 +07:00 [DBG] Request did not match any endpoints
2023-07-05 09:03:47.667 +07:00 [DBG] Connection id "0HMRSVG8DT6US" completed keep alive response.
2023-07-05 09:03:47.668 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 254.2498ms
2023-07-05 09:03:50.337 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/api/VillaAPI - -
2023-07-05 09:03:50.346 +07:00 [DBG] 1 candidate(s) found for the request path '/api/VillaAPI'
2023-07-05 09:03:50.349 +07:00 [DBG] Endpoint 'MagicVilla.Controllers.VillaAPIController.GetVillas (MagicVilla)' with route pattern 'api/VillaAPI' is valid for the request path '/api/VillaAPI'
2023-07-05 09:03:50.349 +07:00 [DBG] Request matched endpoint 'MagicVilla.Controllers.VillaAPIController.GetVillas (MagicVilla)'
2023-07-05 09:03:50.356 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-05 09:03:50.358 +07:00 [INF] Executing endpoint 'MagicVilla.Controllers.VillaAPIController.GetVillas (MagicVilla)'
2023-07-05 09:03:50.375 +07:00 [INF] Route matched with {action = "GetVillas", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla.Models.APIResponse]] GetVillas() on controller MagicVilla.Controllers.VillaAPIController (MagicVilla).
2023-07-05 09:03:50.376 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-05 09:03:50.376 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-05 09:03:50.376 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-05 09:03:50.376 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-05 09:03:50.376 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-05 09:03:50.377 +07:00 [DBG] Executing controller factory for controller MagicVilla.Controllers.VillaAPIController (MagicVilla)
2023-07-05 09:03:50.672 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-05 09:03:50.891 +07:00 [DBG] Executed controller factory for controller MagicVilla.Controllers.VillaAPIController (MagicVilla)
2023-07-05 09:03:51.808 +07:00 [INF] Entity Framework Core 6.0.19 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.19' with options: None
2023-07-05 09:03:51.921 +07:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-07-05 09:03:52.182 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-07-05 09:03:52.256 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-05 09:03:52.323 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (62ms).
2023-07-05 09:03:52.340 +07:00 [DBG] Opening connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:03:52.871 +07:00 [DBG] Opened connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:03:52.886 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
2023-07-05 09:03:52.977 +07:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
2023-07-05 09:03:53.057 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 09:03:53.112 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 09:03:53.112 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 09:03:53.112 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 09:03:53.129 +07:00 [DBG] A data reader was disposed.
2023-07-05 09:03:53.140 +07:00 [DBG] Closing connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:03:53.154 +07:00 [DBG] Closed connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:03:53.192 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-05 09:03:53.195 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-07-05 09:03:53.196 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-07-05 09:03:53.196 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-05 09:03:53.196 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-05 09:03:53.197 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-05 09:03:53.197 +07:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla.Models.APIResponse'.
2023-07-05 09:03:53.215 +07:00 [INF] Executed action MagicVilla.Controllers.VillaAPIController.GetVillas (MagicVilla) in 2832.4685ms
2023-07-05 09:03:53.216 +07:00 [INF] Executed endpoint 'MagicVilla.Controllers.VillaAPIController.GetVillas (MagicVilla)'
2023-07-05 09:03:53.217 +07:00 [DBG] Connection id "0HMRSVG8DT6US" completed keep alive response.
2023-07-05 09:03:53.224 +07:00 [DBG] 'ApplicationDbContext' disposed.
2023-07-05 09:03:53.229 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/api/VillaAPI - - - 200 - application/json;+charset=utf-8 2892.3378ms
2023-07-05 09:03:54.477 +07:00 [DBG] Connection id "0HMRSVG8DT6US" received FIN.
2023-07-05 09:03:54.477 +07:00 [DBG] Connection id "0HMRSVG8DT6UR" received FIN.
2023-07-05 09:03:54.478 +07:00 [DBG] Connection id "0HMRSVG8DT6US" sending FIN because: "The client closed the connection."
2023-07-05 09:03:54.478 +07:00 [DBG] Connection id "0HMRSVG8DT6UR" sending FIN because: "The client closed the connection."
2023-07-05 09:03:54.478 +07:00 [DBG] Connection id "0HMRSVG8DT6UR" disconnecting.
2023-07-05 09:03:54.478 +07:00 [DBG] Connection id "0HMRSVG8DT6US" disconnecting.
2023-07-05 09:03:54.482 +07:00 [DBG] Connection id "0HMRSVG8DT6UR" stopped.
2023-07-05 09:03:54.482 +07:00 [DBG] Connection id "0HMRSVG8DT6US" stopped.
2023-07-05 09:04:09.396 +07:00 [DBG] Connection id "0HMRSVG8DT6UT" accepted.
2023-07-05 09:04:09.396 +07:00 [DBG] Connection id "0HMRSVG8DT6UT" started.
2023-07-05 09:04:09.398 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5240/api/UsersAuth/login application/json 49
2023-07-05 09:04:09.399 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-07-05 09:04:09.399 +07:00 [DBG] Endpoint 'MagicVilla.Controllers.UsersController.Login (MagicVilla)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-07-05 09:04:09.399 +07:00 [DBG] Request matched endpoint 'MagicVilla.Controllers.UsersController.Login (MagicVilla)'
2023-07-05 09:04:09.399 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-05 09:04:09.399 +07:00 [INF] Executing endpoint 'MagicVilla.Controllers.UsersController.Login (MagicVilla)'
2023-07-05 09:04:09.421 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla.Models.DTO.LoginRequestDTO) on controller MagicVilla.Controllers.UsersController (MagicVilla).
2023-07-05 09:04:09.422 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-05 09:04:09.422 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-05 09:04:09.422 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-05 09:04:09.422 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-05 09:04:09.422 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-05 09:04:09.422 +07:00 [DBG] Executing controller factory for controller MagicVilla.Controllers.UsersController (MagicVilla)
2023-07-05 09:04:09.424 +07:00 [DBG] Executed controller factory for controller MagicVilla.Controllers.UsersController (MagicVilla)
2023-07-05 09:04:09.434 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO' ...
2023-07-05 09:04:09.435 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO' using the name '' in request data ...
2023-07-05 09:04:09.436 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-05 09:04:09.444 +07:00 [DBG] Connection id "0HMRSVG8DT6UT", Request id "0HMRSVG8DT6UT:00000002": started reading request body.
2023-07-05 09:04:09.445 +07:00 [DBG] Connection id "0HMRSVG8DT6UT", Request id "0HMRSVG8DT6UT:00000002": done reading request body.
2023-07-05 09:04:09.452 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'MagicVilla.Models.DTO.LoginRequestDTO'
2023-07-05 09:04:09.452 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO'.
2023-07-05 09:04:09.453 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO'.
2023-07-05 09:04:09.453 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO' ...
2023-07-05 09:04:09.464 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO'.
2023-07-05 09:04:09.561 +07:00 [INF] Entity Framework Core 6.0.19 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.19' with options: None
2023-07-05 09:04:09.595 +07:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(u => u.UserName.ToLower() == __ToLower_0 && u.Password == __loginRequestDTO_Password_1)'
2023-07-05 09:04:10.001 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE (LOWER(l.UserName) == @__ToLower_0) && (l.Password == @__loginRequestDTO_Password_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    MagicVilla.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-07-05 09:04:10.029 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-05 09:04:10.029 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-05 09:04:10.036 +07:00 [DBG] Opening connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:04:10.041 +07:00 [DBG] Opened connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:04:10.048 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE (LOWER([l].[UserName]) = @__ToLower_0) AND ([l].[Password] = @__loginRequestDTO_Password_1)
2023-07-05 09:04:10.143 +07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE (LOWER([l].[UserName]) = @__ToLower_0) AND ([l].[Password] = @__loginRequestDTO_Password_1)
2023-07-05 09:04:10.145 +07:00 [DBG] A data reader was disposed.
2023-07-05 09:04:10.146 +07:00 [DBG] Closing connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:04:10.147 +07:00 [DBG] Closed connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:04:10.148 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-05 09:04:10.148 +07:00 [DBG] No information found on request to perform content negotiation.
2023-07-05 09:04:10.148 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-05 09:04:10.148 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-05 09:04:10.148 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-05 09:04:10.148 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'MagicVilla.Models.APIResponse'.
2023-07-05 09:04:10.148 +07:00 [INF] Executed action MagicVilla.Controllers.UsersController.Login (MagicVilla) in 726.2257ms
2023-07-05 09:04:10.148 +07:00 [INF] Executed endpoint 'MagicVilla.Controllers.UsersController.Login (MagicVilla)'
2023-07-05 09:04:10.148 +07:00 [DBG] Connection id "0HMRSVG8DT6UT" completed keep alive response.
2023-07-05 09:04:10.148 +07:00 [DBG] 'ApplicationDbContext' disposed.
2023-07-05 09:04:10.148 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5240/api/UsersAuth/login application/json 49 - 400 - application/json;+charset=utf-8 750.7086ms
2023-07-05 09:04:14.499 +07:00 [DBG] Connection id "0HMRSVG8DT6UT" received FIN.
2023-07-05 09:04:14.499 +07:00 [DBG] Connection id "0HMRSVG8DT6UT" sending FIN because: "The client closed the connection."
2023-07-05 09:04:14.500 +07:00 [DBG] Connection id "0HMRSVG8DT6UT" disconnecting.
2023-07-05 09:04:14.500 +07:00 [DBG] Connection id "0HMRSVG8DT6UT" stopped.
2023-07-05 09:04:16.980 +07:00 [DBG] Connection id "0HMRSVG8DT6UU" accepted.
2023-07-05 09:04:16.983 +07:00 [DBG] Connection id "0HMRSVG8DT6UU" started.
2023-07-05 09:04:16.984 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5240/api/UsersAuth/login application/json 55
2023-07-05 09:04:16.984 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-07-05 09:04:16.984 +07:00 [DBG] Endpoint 'MagicVilla.Controllers.UsersController.Login (MagicVilla)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-07-05 09:04:16.984 +07:00 [DBG] Request matched endpoint 'MagicVilla.Controllers.UsersController.Login (MagicVilla)'
2023-07-05 09:04:16.984 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-05 09:04:16.984 +07:00 [INF] Executing endpoint 'MagicVilla.Controllers.UsersController.Login (MagicVilla)'
2023-07-05 09:04:16.984 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla.Models.DTO.LoginRequestDTO) on controller MagicVilla.Controllers.UsersController (MagicVilla).
2023-07-05 09:04:16.984 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-05 09:04:16.984 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-05 09:04:16.985 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-05 09:04:16.985 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-05 09:04:16.985 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-05 09:04:16.985 +07:00 [DBG] Executing controller factory for controller MagicVilla.Controllers.UsersController (MagicVilla)
2023-07-05 09:04:16.985 +07:00 [DBG] Executed controller factory for controller MagicVilla.Controllers.UsersController (MagicVilla)
2023-07-05 09:04:16.985 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO' ...
2023-07-05 09:04:16.985 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO' using the name '' in request data ...
2023-07-05 09:04:16.985 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-05 09:04:16.986 +07:00 [DBG] Connection id "0HMRSVG8DT6UU", Request id "0HMRSVG8DT6UU:00000002": started reading request body.
2023-07-05 09:04:16.986 +07:00 [DBG] Connection id "0HMRSVG8DT6UU", Request id "0HMRSVG8DT6UU:00000002": done reading request body.
2023-07-05 09:04:16.986 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'MagicVilla.Models.DTO.LoginRequestDTO'
2023-07-05 09:04:16.986 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO'.
2023-07-05 09:04:16.986 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO'.
2023-07-05 09:04:16.986 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO' ...
2023-07-05 09:04:16.986 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO'.
2023-07-05 09:04:17.034 +07:00 [INF] Entity Framework Core 6.0.19 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.19' with options: None
2023-07-05 09:04:17.040 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-05 09:04:17.040 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-05 09:04:17.040 +07:00 [DBG] Opening connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:04:17.040 +07:00 [DBG] Opened connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:04:17.040 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE (LOWER([l].[UserName]) = @__ToLower_0) AND ([l].[Password] = @__loginRequestDTO_Password_1)
2023-07-05 09:04:17.042 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE (LOWER([l].[UserName]) = @__ToLower_0) AND ([l].[Password] = @__loginRequestDTO_Password_1)
2023-07-05 09:04:17.044 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 09:04:17.050 +07:00 [DBG] A data reader was disposed.
2023-07-05 09:04:17.050 +07:00 [DBG] Closing connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:04:17.050 +07:00 [DBG] Closed connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:04:17.410 +07:00 [INF] Executed action MagicVilla.Controllers.UsersController.Login (MagicVilla) in 425.7948ms
2023-07-05 09:04:17.412 +07:00 [INF] Executed endpoint 'MagicVilla.Controllers.UsersController.Login (MagicVilla)'
2023-07-05 09:04:17.414 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentOutOfRangeException: IDX10653: The encryption algorithm 'System.String' requires a key size of at least 'System.Int32' bits. Key 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey', is of size: 'System.Int32'. (Parameter 'key')
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider..ctor(SecurityKey key, String algorithm, Boolean willCreateSignatures)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateSignatureProvider(SecurityKey key, String algorithm, Boolean willCreateSignatures, Boolean cacheProvider)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateForSigning(SecurityKey key, String algorithm, Boolean cacheProvider)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.CreateJwtSecurityTokenPrivate(String issuer, String audience, ClaimsIdentity subject, Nullable`1 notBefore, Nullable`1 expires, Nullable`1 issuedAt, SigningCredentials signingCredentials, EncryptingCredentials encryptingCredentials, IDictionary`2 claimCollection, String tokenType)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.CreateToken(SecurityTokenDescriptor tokenDescriptor)
   at MagicVilla.Repository.UserRepository.Login(LoginRequestDTO loginRequestDTO) in C:\Users\This PC\source\repos\MagicVilla\MagicVilla\Repository\UserRepository.cs:line 60
   at MagicVilla.Controllers.UsersController.Login(LoginRequestDTO model) in C:\Users\This PC\source\repos\MagicVilla\MagicVilla\Controllers\UsersController.cs:line 24
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-05 09:04:17.517 +07:00 [DBG] Connection id "0HMRSVG8DT6UU" completed keep alive response.
2023-07-05 09:04:17.517 +07:00 [DBG] 'ApplicationDbContext' disposed.
2023-07-05 09:04:17.517 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5240/api/UsersAuth/login application/json 55 - 500 - text/plain;+charset=utf-8 533.3560ms
2023-07-05 09:04:24.504 +07:00 [DBG] Connection id "0HMRSVG8DT6UU" received FIN.
2023-07-05 09:04:24.504 +07:00 [DBG] Connection id "0HMRSVG8DT6UU" sending FIN because: "The client closed the connection."
2023-07-05 09:04:24.504 +07:00 [DBG] Connection id "0HMRSVG8DT6UU" disconnecting.
2023-07-05 09:04:24.504 +07:00 [DBG] Connection id "0HMRSVG8DT6UU" stopped.
2023-07-05 09:07:08.137 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-05 09:07:08.372 +07:00 [DBG] Hosting starting
2023-07-05 09:07:08.526 +07:00 [INF] Now listening on: http://localhost:5240
2023-07-05 09:07:08.526 +07:00 [DBG] Loaded hosting startup assembly MagicVilla
2023-07-05 09:07:08.526 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-05 09:07:08.526 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-05 09:07:08.526 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-05 09:07:08.526 +07:00 [INF] Hosting environment: Development
2023-07-05 09:07:08.526 +07:00 [INF] Content root path: C:\Users\This PC\source\repos\MagicVilla\MagicVilla\
2023-07-05 09:07:08.527 +07:00 [DBG] Hosting started
2023-07-05 09:07:08.733 +07:00 [DBG] Connection id "0HMRSVI4RK20A" received FIN.
2023-07-05 09:07:08.747 +07:00 [DBG] Connection id "0HMRSVI4RK20A" accepted.
2023-07-05 09:07:08.749 +07:00 [DBG] Connection id "0HMRSVI4RK20A" started.
2023-07-05 09:07:08.778 +07:00 [DBG] Connection id "0HMRSVI4RK20A" sending FIN because: "The client closed the connection."
2023-07-05 09:07:08.785 +07:00 [DBG] Connection id "0HMRSVI4RK20A" disconnecting.
2023-07-05 09:07:08.795 +07:00 [DBG] Connection id "0HMRSVI4RK20A" stopped.
2023-07-05 09:07:09.175 +07:00 [DBG] Connection id "0HMRSVI4RK20B" accepted.
2023-07-05 09:07:09.176 +07:00 [DBG] Connection id "0HMRSVI4RK20C" accepted.
2023-07-05 09:07:09.176 +07:00 [DBG] Connection id "0HMRSVI4RK20C" started.
2023-07-05 09:07:09.176 +07:00 [DBG] Connection id "0HMRSVI4RK20B" started.
2023-07-05 09:07:09.245 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/swagger/index.html - -
2023-07-05 09:07:09.303 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-05 09:07:09.329 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-07-05 09:07:09.330 +07:00 [DBG] Request did not match any endpoints
2023-07-05 09:07:09.479 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-05 09:07:09.681 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-05 09:07:09.683 +07:00 [DBG] Connection id "0HMRSVI4RK20B" completed keep alive response.
2023-07-05 09:07:09.685 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/swagger/index.html - - - 200 - text/html;charset=utf-8 445.1481ms
2023-07-05 09:07:09.717 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/_vs/browserLink - -
2023-07-05 09:07:09.717 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/_framework/aspnetcore-browser-refresh.js - -
2023-07-05 09:07:09.725 +07:00 [DBG] Connection id "0HMRSVI4RK20B" completed keep alive response.
2023-07-05 09:07:09.725 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 8.0146ms
2023-07-05 09:07:09.769 +07:00 [DBG] Connection id "0HMRSVI4RK20C" completed keep alive response.
2023-07-05 09:07:09.769 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 53.9532ms
2023-07-05 09:07:09.877 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/swagger/v1/swagger.json - -
2023-07-05 09:07:09.878 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-07-05 09:07:09.878 +07:00 [DBG] Request did not match any endpoints
2023-07-05 09:07:10.245 +07:00 [DBG] Connection id "0HMRSVI4RK20C" completed keep alive response.
2023-07-05 09:07:10.245 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 368.0417ms
2023-07-05 09:07:14.750 +07:00 [DBG] Connection id "0HMRSVI4RK20C" received FIN.
2023-07-05 09:07:14.750 +07:00 [DBG] Connection id "0HMRSVI4RK20B" received FIN.
2023-07-05 09:07:14.752 +07:00 [DBG] Connection id "0HMRSVI4RK20C" sending FIN because: "The client closed the connection."
2023-07-05 09:07:14.752 +07:00 [DBG] Connection id "0HMRSVI4RK20B" sending FIN because: "The client closed the connection."
2023-07-05 09:07:14.758 +07:00 [DBG] Connection id "0HMRSVI4RK20C" disconnecting.
2023-07-05 09:07:14.758 +07:00 [DBG] Connection id "0HMRSVI4RK20B" disconnecting.
2023-07-05 09:07:14.775 +07:00 [DBG] Connection id "0HMRSVI4RK20B" stopped.
2023-07-05 09:07:14.775 +07:00 [DBG] Connection id "0HMRSVI4RK20C" stopped.
2023-07-05 09:07:21.182 +07:00 [DBG] Connection id "0HMRSVI4RK20D" accepted.
2023-07-05 09:07:21.182 +07:00 [DBG] Connection id "0HMRSVI4RK20D" started.
2023-07-05 09:07:21.183 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5240/api/UsersAuth/login application/json 55
2023-07-05 09:07:21.194 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-07-05 09:07:21.201 +07:00 [DBG] Endpoint 'MagicVilla.Controllers.UsersController.Login (MagicVilla)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-07-05 09:07:21.201 +07:00 [DBG] Request matched endpoint 'MagicVilla.Controllers.UsersController.Login (MagicVilla)'
2023-07-05 09:07:21.204 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-05 09:07:21.206 +07:00 [INF] Executing endpoint 'MagicVilla.Controllers.UsersController.Login (MagicVilla)'
2023-07-05 09:07:21.234 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla.Models.DTO.LoginRequestDTO) on controller MagicVilla.Controllers.UsersController (MagicVilla).
2023-07-05 09:07:21.235 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-05 09:07:21.235 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-05 09:07:21.235 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-05 09:07:21.235 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-05 09:07:21.235 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-05 09:07:21.236 +07:00 [DBG] Executing controller factory for controller MagicVilla.Controllers.UsersController (MagicVilla)
2023-07-05 09:07:21.501 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-05 09:07:21.543 +07:00 [DBG] Executed controller factory for controller MagicVilla.Controllers.UsersController (MagicVilla)
2023-07-05 09:07:21.548 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO' ...
2023-07-05 09:07:21.550 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO' using the name '' in request data ...
2023-07-05 09:07:21.551 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-05 09:07:21.555 +07:00 [DBG] Connection id "0HMRSVI4RK20D", Request id "0HMRSVI4RK20D:00000002": started reading request body.
2023-07-05 09:07:21.555 +07:00 [DBG] Connection id "0HMRSVI4RK20D", Request id "0HMRSVI4RK20D:00000002": done reading request body.
2023-07-05 09:07:21.562 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'MagicVilla.Models.DTO.LoginRequestDTO'
2023-07-05 09:07:21.563 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO'.
2023-07-05 09:07:21.563 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO'.
2023-07-05 09:07:21.563 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO' ...
2023-07-05 09:07:21.572 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO'.
2023-07-05 09:07:22.416 +07:00 [INF] Entity Framework Core 6.0.19 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.19' with options: None
2023-07-05 09:07:22.522 +07:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(u => u.UserName.ToLower() == __ToLower_0 && u.Password == __loginRequestDTO_Password_1)'
2023-07-05 09:07:22.970 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE (LOWER(l.UserName) == @__ToLower_0) && (l.Password == @__loginRequestDTO_Password_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    MagicVilla.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-07-05 09:07:23.058 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-05 09:07:23.110 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (49ms).
2023-07-05 09:07:23.127 +07:00 [DBG] Opening connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:07:23.587 +07:00 [DBG] Opened connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:07:23.609 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE (LOWER([l].[UserName]) = @__ToLower_0) AND ([l].[Password] = @__loginRequestDTO_Password_1)
2023-07-05 09:07:23.706 +07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE (LOWER([l].[UserName]) = @__ToLower_0) AND ([l].[Password] = @__loginRequestDTO_Password_1)
2023-07-05 09:07:23.744 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 09:07:23.783 +07:00 [DBG] A data reader was disposed.
2023-07-05 09:07:23.788 +07:00 [DBG] Closing connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:07:23.797 +07:00 [DBG] Closed connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:07:24.043 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-05 09:07:24.046 +07:00 [DBG] No information found on request to perform content negotiation.
2023-07-05 09:07:24.046 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-05 09:07:24.046 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-05 09:07:24.047 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-05 09:07:24.047 +07:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla.Models.APIResponse'.
2023-07-05 09:07:24.064 +07:00 [INF] Executed action MagicVilla.Controllers.UsersController.Login (MagicVilla) in 2822.4958ms
2023-07-05 09:07:24.065 +07:00 [INF] Executed endpoint 'MagicVilla.Controllers.UsersController.Login (MagicVilla)'
2023-07-05 09:07:24.065 +07:00 [DBG] Connection id "0HMRSVI4RK20D" completed keep alive response.
2023-07-05 09:07:24.075 +07:00 [DBG] 'ApplicationDbContext' disposed.
2023-07-05 09:07:24.082 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5240/api/UsersAuth/login application/json 55 - 200 - application/json;+charset=utf-8 2898.9804ms
2023-07-05 09:07:24.755 +07:00 [DBG] Connection id "0HMRSVI4RK20D" received FIN.
2023-07-05 09:07:24.755 +07:00 [DBG] Connection id "0HMRSVI4RK20D" sending FIN because: "The client closed the connection."
2023-07-05 09:07:24.756 +07:00 [DBG] Connection id "0HMRSVI4RK20D" disconnecting.
2023-07-05 09:07:24.756 +07:00 [DBG] Connection id "0HMRSVI4RK20D" stopped.
2023-07-05 09:12:42.846 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-05 09:12:43.013 +07:00 [DBG] Hosting starting
2023-07-05 09:12:43.078 +07:00 [INF] User profile is available. Using 'C:\Users\This PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-05 09:12:43.082 +07:00 [DBG] Reading data from file 'C:\Users\This PC\AppData\Local\ASP.NET\DataProtection-Keys\key-2f4877b4-2456-4d34-a4e8-4b53811009c5.xml'.
2023-07-05 09:12:43.142 +07:00 [DBG] Found key {2f4877b4-2456-4d34-a4e8-4b53811009c5}.
2023-07-05 09:12:43.163 +07:00 [DBG] Considering key {2f4877b4-2456-4d34-a4e8-4b53811009c5} with expiration date 2023-09-13 02:55:11Z as default key.
2023-07-05 09:12:43.165 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-07-05 09:12:43.170 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-07-05 09:12:43.172 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-07-05 09:12:43.176 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-07-05 09:12:43.178 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-07-05 09:12:43.180 +07:00 [DBG] Using key {2f4877b4-2456-4d34-a4e8-4b53811009c5} as the default key.
2023-07-05 09:12:43.181 +07:00 [DBG] Key ring with default key {2f4877b4-2456-4d34-a4e8-4b53811009c5} was loaded during application startup.
2023-07-05 09:12:43.349 +07:00 [INF] Now listening on: http://localhost:5240
2023-07-05 09:12:43.349 +07:00 [DBG] Loaded hosting startup assembly MagicVilla
2023-07-05 09:12:43.349 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-05 09:12:43.349 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-05 09:12:43.350 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-05 09:12:43.350 +07:00 [INF] Hosting environment: Development
2023-07-05 09:12:43.350 +07:00 [INF] Content root path: C:\Users\This PC\source\repos\MagicVilla\MagicVilla\
2023-07-05 09:12:43.350 +07:00 [DBG] Hosting started
2023-07-05 09:12:43.498 +07:00 [DBG] Connection id "0HMRSVL8K640P" received FIN.
2023-07-05 09:12:43.498 +07:00 [DBG] Connection id "0HMRSVL8K640Q" received FIN.
2023-07-05 09:12:43.512 +07:00 [DBG] Connection id "0HMRSVL8K640P" accepted.
2023-07-05 09:12:43.512 +07:00 [DBG] Connection id "0HMRSVL8K640Q" accepted.
2023-07-05 09:12:43.513 +07:00 [DBG] Connection id "0HMRSVL8K640Q" started.
2023-07-05 09:12:43.513 +07:00 [DBG] Connection id "0HMRSVL8K640P" started.
2023-07-05 09:12:43.524 +07:00 [DBG] Connection id "0HMRSVL8K640Q" sending FIN because: "The client closed the connection."
2023-07-05 09:12:43.524 +07:00 [DBG] Connection id "0HMRSVL8K640P" sending FIN because: "The client closed the connection."
2023-07-05 09:12:43.526 +07:00 [DBG] Connection id "0HMRSVL8K640Q" disconnecting.
2023-07-05 09:12:43.526 +07:00 [DBG] Connection id "0HMRSVL8K640P" disconnecting.
2023-07-05 09:12:43.531 +07:00 [DBG] Connection id "0HMRSVL8K640Q" stopped.
2023-07-05 09:12:43.531 +07:00 [DBG] Connection id "0HMRSVL8K640P" stopped.
2023-07-05 09:12:44.076 +07:00 [DBG] Connection id "0HMRSVL8K640R" accepted.
2023-07-05 09:12:44.080 +07:00 [DBG] Connection id "0HMRSVL8K640R" started.
2023-07-05 09:12:44.084 +07:00 [DBG] Connection id "0HMRSVL8K640S" accepted.
2023-07-05 09:12:44.084 +07:00 [DBG] Connection id "0HMRSVL8K640S" started.
2023-07-05 09:12:44.138 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/swagger/index.html - -
2023-07-05 09:12:44.270 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-05 09:12:44.327 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-07-05 09:12:44.328 +07:00 [DBG] Request did not match any endpoints
2023-07-05 09:12:44.584 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-05 09:12:45.093 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-05 09:12:45.098 +07:00 [DBG] Connection id "0HMRSVL8K640S" completed keep alive response.
2023-07-05 09:12:45.104 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/swagger/index.html - - - 200 - text/html;charset=utf-8 969.0208ms
2023-07-05 09:12:45.146 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/_vs/browserLink - -
2023-07-05 09:12:45.163 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/_framework/aspnetcore-browser-refresh.js - -
2023-07-05 09:12:45.173 +07:00 [DBG] Connection id "0HMRSVL8K640S" completed keep alive response.
2023-07-05 09:12:45.174 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 10.4508ms
2023-07-05 09:12:45.229 +07:00 [DBG] Connection id "0HMRSVL8K640R" completed keep alive response.
2023-07-05 09:12:45.229 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 83.4792ms
2023-07-05 09:12:45.385 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/swagger/v1/swagger.json - -
2023-07-05 09:12:45.386 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-07-05 09:12:45.386 +07:00 [DBG] Request did not match any endpoints
2023-07-05 09:12:45.767 +07:00 [DBG] Connection id "0HMRSVL8K640R" completed keep alive response.
2023-07-05 09:12:45.767 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 381.9205ms
2023-07-05 09:12:52.664 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/api/VillaAPI - -
2023-07-05 09:12:52.675 +07:00 [DBG] 1 candidate(s) found for the request path '/api/VillaAPI'
2023-07-05 09:12:52.680 +07:00 [DBG] Endpoint 'MagicVilla.Controllers.VillaAPIController.GetVillas (MagicVilla)' with route pattern 'api/VillaAPI' is valid for the request path '/api/VillaAPI'
2023-07-05 09:12:52.680 +07:00 [DBG] Request matched endpoint 'MagicVilla.Controllers.VillaAPIController.GetVillas (MagicVilla)'
2023-07-05 09:12:52.682 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-05 09:12:52.692 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-07-05 09:12:52.844 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-07-05 09:12:52.844 +07:00 [DBG] Connection id "0HMRSVL8K640R" completed keep alive response.
2023-07-05 09:12:52.844 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/api/VillaAPI - - - 401 0 - 180.4977ms
2023-07-05 09:12:55.166 +07:00 [DBG] Connection id "0HMRSVL8K640R" received FIN.
2023-07-05 09:12:55.166 +07:00 [DBG] Connection id "0HMRSVL8K640S" received FIN.
2023-07-05 09:12:55.167 +07:00 [DBG] Connection id "0HMRSVL8K640R" sending FIN because: "The client closed the connection."
2023-07-05 09:12:55.167 +07:00 [DBG] Connection id "0HMRSVL8K640S" sending FIN because: "The client closed the connection."
2023-07-05 09:12:55.167 +07:00 [DBG] Connection id "0HMRSVL8K640R" disconnecting.
2023-07-05 09:12:55.167 +07:00 [DBG] Connection id "0HMRSVL8K640S" disconnecting.
2023-07-05 09:12:55.183 +07:00 [DBG] Connection id "0HMRSVL8K640R" stopped.
2023-07-05 09:12:55.183 +07:00 [DBG] Connection id "0HMRSVL8K640S" stopped.
2023-07-05 09:13:13.484 +07:00 [DBG] Connection id "0HMRSVL8K640T" accepted.
2023-07-05 09:13:13.484 +07:00 [DBG] Connection id "0HMRSVL8K640T" started.
2023-07-05 09:13:13.485 +07:00 [DBG] Connection id "0HMRSVL8K640U" accepted.
2023-07-05 09:13:13.495 +07:00 [DBG] Connection id "0HMRSVL8K640U" started.
2023-07-05 09:13:13.495 +07:00 [DBG] Connection id "0HMRSVL8K640T" received FIN.
2023-07-05 09:13:13.495 +07:00 [DBG] Connection id "0HMRSVL8K640T" sending FIN because: "The client closed the connection."
2023-07-05 09:13:13.495 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/api/VillaAPI - -
2023-07-05 09:13:13.495 +07:00 [DBG] Connection id "0HMRSVL8K640T" disconnecting.
2023-07-05 09:13:13.495 +07:00 [DBG] Connection id "0HMRSVL8K640T" stopped.
2023-07-05 09:13:13.496 +07:00 [DBG] 1 candidate(s) found for the request path '/api/VillaAPI'
2023-07-05 09:13:13.496 +07:00 [DBG] Endpoint 'MagicVilla.Controllers.VillaAPIController.GetVillas (MagicVilla)' with route pattern 'api/VillaAPI' is valid for the request path '/api/VillaAPI'
2023-07-05 09:13:13.496 +07:00 [DBG] Request matched endpoint 'MagicVilla.Controllers.VillaAPIController.GetVillas (MagicVilla)'
2023-07-05 09:13:13.496 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-05 09:13:13.496 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-07-05 09:13:13.496 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-07-05 09:13:13.497 +07:00 [DBG] Connection id "0HMRSVL8K640U" completed keep alive response.
2023-07-05 09:13:13.497 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/api/VillaAPI - - - 401 0 - 1.8714ms
2023-07-05 09:14:15.333 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/api/VillaAPI/1 - -
2023-07-05 09:14:15.336 +07:00 [DBG] 1 candidate(s) found for the request path '/api/VillaAPI/1'
2023-07-05 09:14:15.337 +07:00 [DBG] Endpoint 'MagicVilla.Controllers.VillaAPIController.GetVilla (MagicVilla)' with route pattern 'api/VillaAPI/{id}' is valid for the request path '/api/VillaAPI/1'
2023-07-05 09:14:15.337 +07:00 [DBG] Request matched endpoint 'MagicVilla.Controllers.VillaAPIController.GetVilla (MagicVilla)'
2023-07-05 09:14:15.337 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-05 09:14:15.347 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-07-05 09:14:15.347 +07:00 [INF] Executing endpoint 'MagicVilla.Controllers.VillaAPIController.GetVilla (MagicVilla)'
2023-07-05 09:14:15.400 +07:00 [INF] Route matched with {action = "GetVilla", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla.Models.DTO.VillaDTO]] GetVilla(Int32) on controller MagicVilla.Controllers.VillaAPIController (MagicVilla).
2023-07-05 09:14:15.401 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-05 09:14:15.401 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-05 09:14:15.401 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-05 09:14:15.401 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-05 09:14:15.401 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-05 09:14:15.402 +07:00 [DBG] Executing controller factory for controller MagicVilla.Controllers.VillaAPIController (MagicVilla)
2023-07-05 09:14:15.679 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-05 09:14:15.878 +07:00 [DBG] Executed controller factory for controller MagicVilla.Controllers.VillaAPIController (MagicVilla)
2023-07-05 09:14:15.885 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-07-05 09:14:15.886 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-07-05 09:14:15.887 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-05 09:14:15.888 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-05 09:14:15.888 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-07-05 09:14:15.892 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-07-05 09:14:16.765 +07:00 [INF] Entity Framework Core 6.0.19 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.19' with options: None
2023-07-05 09:14:16.933 +07:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(u => u.Id == __id_0)
    .FirstOrDefault()'
2023-07-05 09:14:17.379 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE v.Id == @__id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-05 09:14:17.459 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-05 09:14:17.531 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (67ms).
2023-07-05 09:14:17.552 +07:00 [DBG] Opening connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:14:18.084 +07:00 [DBG] Opened connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:14:18.113 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2023-07-05 09:14:18.243 +07:00 [INF] Executed DbCommand (141ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2023-07-05 09:14:18.321 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 09:14:18.397 +07:00 [DBG] A data reader was disposed.
2023-07-05 09:14:18.406 +07:00 [DBG] Closing connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:14:18.418 +07:00 [DBG] Closed connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:14:18.435 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-05 09:14:18.437 +07:00 [DBG] No information found on request to perform content negotiation.
2023-07-05 09:14:18.437 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-05 09:14:18.437 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-05 09:14:18.440 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-05 09:14:18.440 +07:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla.Models.DTO.VillaDTO'.
2023-07-05 09:14:18.459 +07:00 [INF] Executed action MagicVilla.Controllers.VillaAPIController.GetVilla (MagicVilla) in 3049.429ms
2023-07-05 09:14:18.461 +07:00 [INF] Executed endpoint 'MagicVilla.Controllers.VillaAPIController.GetVilla (MagicVilla)'
2023-07-05 09:14:18.464 +07:00 [DBG] Connection id "0HMRSVL8K640U" completed keep alive response.
2023-07-05 09:14:18.473 +07:00 [DBG] 'ApplicationDbContext' disposed.
2023-07-05 09:14:18.478 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/api/VillaAPI/1 - - - 200 - application/json;+charset=utf-8 3145.7562ms
2023-07-05 09:14:22.582 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/api/VillaAPI - -
2023-07-05 09:14:22.582 +07:00 [DBG] 1 candidate(s) found for the request path '/api/VillaAPI'
2023-07-05 09:14:22.582 +07:00 [DBG] Endpoint 'MagicVilla.Controllers.VillaAPIController.GetVillas (MagicVilla)' with route pattern 'api/VillaAPI' is valid for the request path '/api/VillaAPI'
2023-07-05 09:14:22.582 +07:00 [DBG] Request matched endpoint 'MagicVilla.Controllers.VillaAPIController.GetVillas (MagicVilla)'
2023-07-05 09:14:22.582 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-05 09:14:22.583 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-07-05 09:14:22.584 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-07-05 09:14:22.584 +07:00 [DBG] Connection id "0HMRSVL8K640U" completed keep alive response.
2023-07-05 09:14:22.584 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/api/VillaAPI - - - 401 0 - 2.0323ms
2023-07-05 09:15:20.323 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-05 09:15:20.518 +07:00 [DBG] Hosting starting
2023-07-05 09:15:20.792 +07:00 [INF] User profile is available. Using 'C:\Users\This PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-05 09:15:20.796 +07:00 [DBG] Reading data from file 'C:\Users\This PC\AppData\Local\ASP.NET\DataProtection-Keys\key-2f4877b4-2456-4d34-a4e8-4b53811009c5.xml'.
2023-07-05 09:15:20.809 +07:00 [DBG] Found key {2f4877b4-2456-4d34-a4e8-4b53811009c5}.
2023-07-05 09:15:20.827 +07:00 [DBG] Considering key {2f4877b4-2456-4d34-a4e8-4b53811009c5} with expiration date 2023-09-13 02:55:11Z as default key.
2023-07-05 09:15:20.829 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-07-05 09:15:20.833 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-07-05 09:15:20.835 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-07-05 09:15:20.840 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-07-05 09:15:20.843 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-07-05 09:15:20.848 +07:00 [DBG] Using key {2f4877b4-2456-4d34-a4e8-4b53811009c5} as the default key.
2023-07-05 09:15:20.849 +07:00 [DBG] Key ring with default key {2f4877b4-2456-4d34-a4e8-4b53811009c5} was loaded during application startup.
2023-07-05 09:15:21.038 +07:00 [INF] Now listening on: http://localhost:5240
2023-07-05 09:15:21.038 +07:00 [DBG] Loaded hosting startup assembly MagicVilla
2023-07-05 09:15:21.038 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-05 09:15:21.038 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-05 09:15:21.038 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-05 09:15:21.038 +07:00 [INF] Hosting environment: Development
2023-07-05 09:15:21.038 +07:00 [INF] Content root path: C:\Users\This PC\source\repos\MagicVilla\MagicVilla\
2023-07-05 09:15:21.038 +07:00 [DBG] Hosting started
2023-07-05 09:15:21.129 +07:00 [DBG] Connection id "0HMRSVMNJFB51" received FIN.
2023-07-05 09:15:21.129 +07:00 [DBG] Connection id "0HMRSVMNJFB52" received FIN.
2023-07-05 09:15:21.142 +07:00 [DBG] Connection id "0HMRSVMNJFB52" accepted.
2023-07-05 09:15:21.142 +07:00 [DBG] Connection id "0HMRSVMNJFB51" accepted.
2023-07-05 09:15:21.144 +07:00 [DBG] Connection id "0HMRSVMNJFB52" started.
2023-07-05 09:15:21.144 +07:00 [DBG] Connection id "0HMRSVMNJFB51" started.
2023-07-05 09:15:21.154 +07:00 [DBG] Connection id "0HMRSVMNJFB52" sending FIN because: "The client closed the connection."
2023-07-05 09:15:21.154 +07:00 [DBG] Connection id "0HMRSVMNJFB51" sending FIN because: "The client closed the connection."
2023-07-05 09:15:21.159 +07:00 [DBG] Connection id "0HMRSVMNJFB52" disconnecting.
2023-07-05 09:15:21.159 +07:00 [DBG] Connection id "0HMRSVMNJFB51" disconnecting.
2023-07-05 09:15:21.177 +07:00 [DBG] Connection id "0HMRSVMNJFB51" stopped.
2023-07-05 09:15:21.177 +07:00 [DBG] Connection id "0HMRSVMNJFB52" stopped.
2023-07-05 09:15:21.706 +07:00 [DBG] Connection id "0HMRSVMNJFB53" accepted.
2023-07-05 09:15:21.712 +07:00 [DBG] Connection id "0HMRSVMNJFB54" accepted.
2023-07-05 09:15:21.717 +07:00 [DBG] Connection id "0HMRSVMNJFB54" started.
2023-07-05 09:15:21.713 +07:00 [DBG] Connection id "0HMRSVMNJFB53" started.
2023-07-05 09:15:22.110 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/swagger/index.html - -
2023-07-05 09:15:22.155 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-05 09:15:22.181 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-07-05 09:15:22.181 +07:00 [DBG] Request did not match any endpoints
2023-07-05 09:15:22.292 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-05 09:15:22.490 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-05 09:15:22.490 +07:00 [DBG] Connection id "0HMRSVMNJFB53" completed keep alive response.
2023-07-05 09:15:22.493 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/swagger/index.html - - - 200 - text/html;charset=utf-8 637.5211ms
2023-07-05 09:15:22.503 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/_vs/browserLink - -
2023-07-05 09:15:22.509 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/_framework/aspnetcore-browser-refresh.js - -
2023-07-05 09:15:22.521 +07:00 [DBG] Connection id "0HMRSVMNJFB53" completed keep alive response.
2023-07-05 09:15:22.522 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 13.2257ms
2023-07-05 09:15:22.555 +07:00 [DBG] Connection id "0HMRSVMNJFB54" completed keep alive response.
2023-07-05 09:15:22.555 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 51.4571ms
2023-07-05 09:15:22.627 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/swagger/v1/swagger.json - -
2023-07-05 09:15:22.627 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-07-05 09:15:22.627 +07:00 [DBG] Request did not match any endpoints
2023-07-05 09:15:22.847 +07:00 [DBG] Connection id "0HMRSVMNJFB54" completed keep alive response.
2023-07-05 09:15:22.847 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 219.7271ms
2023-07-05 09:15:25.366 +07:00 [DBG] Connection id "0HMRSVMNJFB53" received FIN.
2023-07-05 09:15:25.367 +07:00 [DBG] Connection id "0HMRSVMNJFB53" sending FIN because: "The client closed the connection."
2023-07-05 09:15:25.371 +07:00 [DBG] Connection id "0HMRSVMNJFB53" disconnecting.
2023-07-05 09:15:25.371 +07:00 [DBG] Connection id "0HMRSVMNJFB54" received FIN.
2023-07-05 09:15:25.371 +07:00 [DBG] Connection id "0HMRSVMNJFB54" sending FIN because: "The client closed the connection."
2023-07-05 09:15:25.371 +07:00 [DBG] Connection id "0HMRSVMNJFB54" disconnecting.
2023-07-05 09:15:25.376 +07:00 [DBG] Connection id "0HMRSVMNJFB54" stopped.
2023-07-05 09:15:25.376 +07:00 [DBG] Connection id "0HMRSVMNJFB53" stopped.
2023-07-05 09:15:36.468 +07:00 [DBG] Connection id "0HMRSVMNJFB55" accepted.
2023-07-05 09:15:36.468 +07:00 [DBG] Connection id "0HMRSVMNJFB55" started.
2023-07-05 09:15:36.474 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5240/api/UsersAuth/login application/json 55
2023-07-05 09:15:36.484 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-07-05 09:15:36.488 +07:00 [DBG] Endpoint 'MagicVilla.Controllers.UsersController.Login (MagicVilla)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-07-05 09:15:36.488 +07:00 [DBG] Request matched endpoint 'MagicVilla.Controllers.UsersController.Login (MagicVilla)'
2023-07-05 09:15:36.490 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-05 09:15:36.596 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-07-05 09:15:36.597 +07:00 [INF] Executing endpoint 'MagicVilla.Controllers.UsersController.Login (MagicVilla)'
2023-07-05 09:15:36.642 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla.Models.DTO.LoginRequestDTO) on controller MagicVilla.Controllers.UsersController (MagicVilla).
2023-07-05 09:15:36.643 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-05 09:15:36.644 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-05 09:15:36.644 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-05 09:15:36.644 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-05 09:15:36.644 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-05 09:15:36.646 +07:00 [DBG] Executing controller factory for controller MagicVilla.Controllers.UsersController (MagicVilla)
2023-07-05 09:15:36.867 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-05 09:15:36.907 +07:00 [DBG] Executed controller factory for controller MagicVilla.Controllers.UsersController (MagicVilla)
2023-07-05 09:15:36.914 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO' ...
2023-07-05 09:15:36.917 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO' using the name '' in request data ...
2023-07-05 09:15:36.917 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-05 09:15:36.930 +07:00 [DBG] Connection id "0HMRSVMNJFB55", Request id "0HMRSVMNJFB55:00000002": started reading request body.
2023-07-05 09:15:36.931 +07:00 [DBG] Connection id "0HMRSVMNJFB55", Request id "0HMRSVMNJFB55:00000002": done reading request body.
2023-07-05 09:15:36.937 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'MagicVilla.Models.DTO.LoginRequestDTO'
2023-07-05 09:15:36.938 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO'.
2023-07-05 09:15:36.938 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO'.
2023-07-05 09:15:36.938 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO' ...
2023-07-05 09:15:36.949 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO'.
2023-07-05 09:15:37.764 +07:00 [INF] Entity Framework Core 6.0.19 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.19' with options: None
2023-07-05 09:15:37.856 +07:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(u => u.UserName.ToLower() == __ToLower_0 && u.Password == __loginRequestDTO_Password_1)'
2023-07-05 09:15:38.333 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE (LOWER(l.UserName) == @__ToLower_0) && (l.Password == @__loginRequestDTO_Password_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    MagicVilla.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-07-05 09:15:38.403 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-05 09:15:38.447 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (41ms).
2023-07-05 09:15:38.461 +07:00 [DBG] Opening connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:15:38.848 +07:00 [DBG] Opened connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:15:38.863 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE (LOWER([l].[UserName]) = @__ToLower_0) AND ([l].[Password] = @__loginRequestDTO_Password_1)
2023-07-05 09:15:38.938 +07:00 [INF] Executed DbCommand (76ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE (LOWER([l].[UserName]) = @__ToLower_0) AND ([l].[Password] = @__loginRequestDTO_Password_1)
2023-07-05 09:15:38.983 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 09:15:39.017 +07:00 [DBG] A data reader was disposed.
2023-07-05 09:15:39.020 +07:00 [DBG] Closing connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:15:39.032 +07:00 [DBG] Closed connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:15:39.235 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-05 09:15:39.237 +07:00 [DBG] No information found on request to perform content negotiation.
2023-07-05 09:15:39.237 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-05 09:15:39.237 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-05 09:15:39.237 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-05 09:15:39.237 +07:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla.Models.APIResponse'.
2023-07-05 09:15:39.249 +07:00 [INF] Executed action MagicVilla.Controllers.UsersController.Login (MagicVilla) in 2597.465ms
2023-07-05 09:15:39.250 +07:00 [INF] Executed endpoint 'MagicVilla.Controllers.UsersController.Login (MagicVilla)'
2023-07-05 09:15:39.250 +07:00 [DBG] Connection id "0HMRSVMNJFB55" completed keep alive response.
2023-07-05 09:15:39.255 +07:00 [DBG] 'ApplicationDbContext' disposed.
2023-07-05 09:15:39.261 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5240/api/UsersAuth/login application/json 55 - 200 - application/json;+charset=utf-8 2787.2332ms
2023-07-05 09:15:45.387 +07:00 [DBG] Connection id "0HMRSVMNJFB55" received FIN.
2023-07-05 09:15:45.387 +07:00 [DBG] Connection id "0HMRSVMNJFB55" disconnecting.
2023-07-05 09:15:45.387 +07:00 [DBG] Connection id "0HMRSVMNJFB55" stopped.
2023-07-05 09:15:45.387 +07:00 [DBG] Connection id "0HMRSVMNJFB55" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-05 09:15:56.022 +07:00 [DBG] Connection id "0HMRSVMNJFB56" accepted.
2023-07-05 09:15:56.023 +07:00 [DBG] Connection id "0HMRSVMNJFB56" started.
2023-07-05 09:15:56.024 +07:00 [DBG] Connection id "0HMRSVMNJFB57" accepted.
2023-07-05 09:15:56.032 +07:00 [DBG] Connection id "0HMRSVMNJFB57" started.
2023-07-05 09:15:56.033 +07:00 [DBG] Connection id "0HMRSVMNJFB56" received FIN.
2023-07-05 09:15:56.033 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/api/VillaAPI - -
2023-07-05 09:15:56.033 +07:00 [DBG] Connection id "0HMRSVMNJFB56" disconnecting.
2023-07-05 09:15:56.033 +07:00 [DBG] Connection id "0HMRSVMNJFB56" stopped.
2023-07-05 09:15:56.033 +07:00 [DBG] Connection id "0HMRSVMNJFB56" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-05 09:15:56.039 +07:00 [DBG] 1 candidate(s) found for the request path '/api/VillaAPI'
2023-07-05 09:15:56.067 +07:00 [DBG] Endpoint 'MagicVilla.Controllers.VillaAPIController.GetVillas (MagicVilla)' with route pattern 'api/VillaAPI' is valid for the request path '/api/VillaAPI'
2023-07-05 09:15:56.067 +07:00 [DBG] Request matched endpoint 'MagicVilla.Controllers.VillaAPIController.GetVillas (MagicVilla)'
2023-07-05 09:15:56.067 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-05 09:15:56.073 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-07-05 09:15:56.174 +07:00 [DBG] Successfully validated the token.
2023-07-05 09:15:56.175 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-07-05 09:15:56.175 +07:00 [DBG] Connection id "0HMRSVMNJFB57" completed keep alive response.
2023-07-05 09:15:56.175 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/api/VillaAPI - - - 401 0 - 142.4297ms
2023-07-05 09:16:20.486 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/api/VillaAPI - -
2023-07-05 09:16:20.488 +07:00 [DBG] 1 candidate(s) found for the request path '/api/VillaAPI'
2023-07-05 09:16:20.488 +07:00 [DBG] Endpoint 'MagicVilla.Controllers.VillaAPIController.GetVillas (MagicVilla)' with route pattern 'api/VillaAPI' is valid for the request path '/api/VillaAPI'
2023-07-05 09:16:20.488 +07:00 [DBG] Request matched endpoint 'MagicVilla.Controllers.VillaAPIController.GetVillas (MagicVilla)'
2023-07-05 09:16:20.488 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-05 09:16:20.494 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-07-05 09:16:20.498 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-07-05 09:16:20.498 +07:00 [DBG] Connection id "0HMRSVMNJFB57" completed keep alive response.
2023-07-05 09:16:20.498 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/api/VillaAPI - - - 401 0 - 12.1725ms
2023-07-05 09:16:38.361 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/api/VillaAPI/1 - -
2023-07-05 09:16:38.361 +07:00 [DBG] 1 candidate(s) found for the request path '/api/VillaAPI/1'
2023-07-05 09:16:38.362 +07:00 [DBG] Endpoint 'MagicVilla.Controllers.VillaAPIController.GetVilla (MagicVilla)' with route pattern 'api/VillaAPI/{id}' is valid for the request path '/api/VillaAPI/1'
2023-07-05 09:16:38.362 +07:00 [DBG] Request matched endpoint 'MagicVilla.Controllers.VillaAPIController.GetVilla (MagicVilla)'
2023-07-05 09:16:38.362 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-05 09:16:38.369 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-07-05 09:16:38.369 +07:00 [INF] Executing endpoint 'MagicVilla.Controllers.VillaAPIController.GetVilla (MagicVilla)'
2023-07-05 09:16:38.378 +07:00 [INF] Route matched with {action = "GetVilla", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla.Models.DTO.VillaDTO]] GetVilla(Int32) on controller MagicVilla.Controllers.VillaAPIController (MagicVilla).
2023-07-05 09:16:38.378 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-05 09:16:38.378 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-05 09:16:38.378 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-05 09:16:38.378 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-05 09:16:38.378 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-05 09:16:38.378 +07:00 [DBG] Executing controller factory for controller MagicVilla.Controllers.VillaAPIController (MagicVilla)
2023-07-05 09:16:38.504 +07:00 [DBG] Executed controller factory for controller MagicVilla.Controllers.VillaAPIController (MagicVilla)
2023-07-05 09:16:38.505 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-07-05 09:16:38.505 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-07-05 09:16:38.506 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-05 09:16:38.506 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-05 09:16:38.506 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-07-05 09:16:38.506 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-07-05 09:16:38.551 +07:00 [INF] Entity Framework Core 6.0.19 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.19' with options: None
2023-07-05 09:16:38.555 +07:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(u => u.Id == __id_0)
    .FirstOrDefault()'
2023-07-05 09:16:38.559 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE v.Id == @__id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-05 09:16:38.587 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-05 09:16:38.587 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-05 09:16:38.594 +07:00 [DBG] Opening connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:16:38.601 +07:00 [DBG] Opened connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:16:38.603 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2023-07-05 09:16:38.640 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2023-07-05 09:16:38.667 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 09:16:38.693 +07:00 [DBG] A data reader was disposed.
2023-07-05 09:16:38.700 +07:00 [DBG] Closing connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:16:38.701 +07:00 [DBG] Closed connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:16:38.720 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-05 09:16:38.720 +07:00 [DBG] No information found on request to perform content negotiation.
2023-07-05 09:16:38.720 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-05 09:16:38.720 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-05 09:16:38.720 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-05 09:16:38.721 +07:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla.Models.DTO.VillaDTO'.
2023-07-05 09:16:38.726 +07:00 [INF] Executed action MagicVilla.Controllers.VillaAPIController.GetVilla (MagicVilla) in 347.8518ms
2023-07-05 09:16:38.727 +07:00 [INF] Executed endpoint 'MagicVilla.Controllers.VillaAPIController.GetVilla (MagicVilla)'
2023-07-05 09:16:38.729 +07:00 [DBG] Connection id "0HMRSVMNJFB57" completed keep alive response.
2023-07-05 09:16:38.730 +07:00 [DBG] 'ApplicationDbContext' disposed.
2023-07-05 09:16:38.730 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/api/VillaAPI/1 - - - 200 - application/json;+charset=utf-8 369.2451ms
2023-07-05 09:16:43.183 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/api/VillaAPI - -
2023-07-05 09:16:43.184 +07:00 [DBG] 1 candidate(s) found for the request path '/api/VillaAPI'
2023-07-05 09:16:43.184 +07:00 [DBG] Endpoint 'MagicVilla.Controllers.VillaAPIController.GetVillas (MagicVilla)' with route pattern 'api/VillaAPI' is valid for the request path '/api/VillaAPI'
2023-07-05 09:16:43.184 +07:00 [DBG] Request matched endpoint 'MagicVilla.Controllers.VillaAPIController.GetVillas (MagicVilla)'
2023-07-05 09:16:43.184 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-05 09:16:43.185 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-07-05 09:16:43.186 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-07-05 09:16:43.186 +07:00 [DBG] Connection id "0HMRSVMNJFB57" completed keep alive response.
2023-07-05 09:16:43.186 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/api/VillaAPI - - - 401 0 - 2.8959ms
2023-07-05 09:16:52.306 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/api/VillaAPI - -
2023-07-05 09:16:52.307 +07:00 [DBG] 1 candidate(s) found for the request path '/api/VillaAPI'
2023-07-05 09:16:52.307 +07:00 [DBG] Endpoint 'MagicVilla.Controllers.VillaAPIController.GetVillas (MagicVilla)' with route pattern 'api/VillaAPI' is valid for the request path '/api/VillaAPI'
2023-07-05 09:16:52.307 +07:00 [DBG] Request matched endpoint 'MagicVilla.Controllers.VillaAPIController.GetVillas (MagicVilla)'
2023-07-05 09:16:52.307 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-05 09:16:52.307 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-07-05 09:16:52.307 +07:00 [DBG] Successfully validated the token.
2023-07-05 09:16:52.307 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-07-05 09:16:52.307 +07:00 [DBG] Connection id "0HMRSVMNJFB57" completed keep alive response.
2023-07-05 09:16:52.307 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/api/VillaAPI - - - 401 0 - 0.9852ms
2023-07-05 09:26:00.360 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-05 09:26:00.607 +07:00 [DBG] Hosting starting
2023-07-05 09:26:00.714 +07:00 [INF] User profile is available. Using 'C:\Users\This PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-05 09:26:00.731 +07:00 [DBG] Reading data from file 'C:\Users\This PC\AppData\Local\ASP.NET\DataProtection-Keys\key-2f4877b4-2456-4d34-a4e8-4b53811009c5.xml'.
2023-07-05 09:26:00.921 +07:00 [DBG] Found key {2f4877b4-2456-4d34-a4e8-4b53811009c5}.
2023-07-05 09:26:00.943 +07:00 [DBG] Considering key {2f4877b4-2456-4d34-a4e8-4b53811009c5} with expiration date 2023-09-13 02:55:11Z as default key.
2023-07-05 09:26:00.947 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-07-05 09:26:00.950 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-07-05 09:26:00.952 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-07-05 09:26:00.956 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-07-05 09:26:00.958 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-07-05 09:26:00.962 +07:00 [DBG] Using key {2f4877b4-2456-4d34-a4e8-4b53811009c5} as the default key.
2023-07-05 09:26:00.963 +07:00 [DBG] Key ring with default key {2f4877b4-2456-4d34-a4e8-4b53811009c5} was loaded during application startup.
2023-07-05 09:26:01.184 +07:00 [INF] Now listening on: http://localhost:5240
2023-07-05 09:26:01.184 +07:00 [DBG] Loaded hosting startup assembly MagicVilla
2023-07-05 09:26:01.184 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-05 09:26:01.184 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-05 09:26:01.184 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-05 09:26:01.184 +07:00 [INF] Hosting environment: Development
2023-07-05 09:26:01.185 +07:00 [INF] Content root path: C:\Users\This PC\source\repos\MagicVilla\MagicVilla\
2023-07-05 09:26:01.185 +07:00 [DBG] Hosting started
2023-07-05 09:26:01.617 +07:00 [DBG] Connection id "0HMRSVSMFKQ0T" received FIN.
2023-07-05 09:26:01.617 +07:00 [DBG] Connection id "0HMRSVSMFKQ0U" received FIN.
2023-07-05 09:26:01.639 +07:00 [DBG] Connection id "0HMRSVSMFKQ0T" accepted.
2023-07-05 09:26:01.639 +07:00 [DBG] Connection id "0HMRSVSMFKQ0U" accepted.
2023-07-05 09:26:01.642 +07:00 [DBG] Connection id "0HMRSVSMFKQ0T" started.
2023-07-05 09:26:01.642 +07:00 [DBG] Connection id "0HMRSVSMFKQ0U" started.
2023-07-05 09:26:01.667 +07:00 [DBG] Connection id "0HMRSVSMFKQ0U" sending FIN because: "The client closed the connection."
2023-07-05 09:26:01.667 +07:00 [DBG] Connection id "0HMRSVSMFKQ0T" sending FIN because: "The client closed the connection."
2023-07-05 09:26:01.671 +07:00 [DBG] Connection id "0HMRSVSMFKQ0U" disconnecting.
2023-07-05 09:26:01.671 +07:00 [DBG] Connection id "0HMRSVSMFKQ0T" disconnecting.
2023-07-05 09:26:01.698 +07:00 [DBG] Connection id "0HMRSVSMFKQ0U" stopped.
2023-07-05 09:26:01.699 +07:00 [DBG] Connection id "0HMRSVSMFKQ0T" stopped.
2023-07-05 09:26:02.132 +07:00 [DBG] Connection id "0HMRSVSMFKQ0V" accepted.
2023-07-05 09:26:02.137 +07:00 [DBG] Connection id "0HMRSVSMFKQ0V" started.
2023-07-05 09:26:02.148 +07:00 [DBG] Connection id "0HMRSVSMFKQ10" accepted.
2023-07-05 09:26:02.149 +07:00 [DBG] Connection id "0HMRSVSMFKQ10" started.
2023-07-05 09:26:02.215 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/swagger/index.html - -
2023-07-05 09:26:02.311 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-05 09:26:02.559 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-05 09:26:03.120 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/_framework/aspnetcore-browser-refresh.js - -
2023-07-05 09:26:03.132 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-05 09:26:03.132 +07:00 [DBG] Connection id "0HMRSVSMFKQ10" completed keep alive response.
2023-07-05 09:26:03.133 +07:00 [DBG] Connection id "0HMRSVSMFKQ0V" completed keep alive response.
2023-07-05 09:26:03.135 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/swagger/index.html - - - 200 - text/html;charset=utf-8 925.4600ms
2023-07-05 09:26:03.136 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 12.5682ms
2023-07-05 09:26:03.284 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/_vs/browserLink - -
2023-07-05 09:26:03.460 +07:00 [DBG] Connection id "0HMRSVSMFKQ0V" completed keep alive response.
2023-07-05 09:26:03.461 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 176.4187ms
2023-07-05 09:26:03.554 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/swagger/v1/swagger.json - -
2023-07-05 09:26:04.250 +07:00 [DBG] Connection id "0HMRSVSMFKQ0V" completed keep alive response.
2023-07-05 09:26:04.251 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 696.9688ms
2023-07-05 09:26:06.223 +07:00 [DBG] Connection id "0HMRSVSMFKQ10" received FIN.
2023-07-05 09:26:06.223 +07:00 [DBG] Connection id "0HMRSVSMFKQ0V" received FIN.
2023-07-05 09:26:06.223 +07:00 [DBG] Connection id "0HMRSVSMFKQ10" sending FIN because: "The client closed the connection."
2023-07-05 09:26:06.223 +07:00 [DBG] Connection id "0HMRSVSMFKQ0V" sending FIN because: "The client closed the connection."
2023-07-05 09:26:06.223 +07:00 [DBG] Connection id "0HMRSVSMFKQ10" disconnecting.
2023-07-05 09:26:06.223 +07:00 [DBG] Connection id "0HMRSVSMFKQ0V" disconnecting.
2023-07-05 09:26:06.253 +07:00 [DBG] Connection id "0HMRSVSMFKQ0V" stopped.
2023-07-05 09:26:06.254 +07:00 [DBG] Connection id "0HMRSVSMFKQ10" stopped.
2023-07-05 09:26:21.922 +07:00 [DBG] Connection id "0HMRSVSMFKQ11" accepted.
2023-07-05 09:26:21.922 +07:00 [DBG] Connection id "0HMRSVSMFKQ11" started.
2023-07-05 09:26:21.924 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5240/api/UsersAuth/login application/json 55
2023-07-05 09:26:21.927 +07:00 [DBG] POST requests are not supported
2023-07-05 09:26:22.068 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-07-05 09:26:22.105 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-07-05 09:26:22.111 +07:00 [DBG] Endpoint 'MagicVilla.Controllers.UsersController.Login (MagicVilla)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-07-05 09:26:22.112 +07:00 [DBG] Request matched endpoint 'MagicVilla.Controllers.UsersController.Login (MagicVilla)'
2023-07-05 09:26:22.116 +07:00 [INF] Executing endpoint 'MagicVilla.Controllers.UsersController.Login (MagicVilla)'
2023-07-05 09:26:22.162 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla.Models.DTO.LoginRequestDTO) on controller MagicVilla.Controllers.UsersController (MagicVilla).
2023-07-05 09:26:22.163 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-05 09:26:22.164 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-05 09:26:22.164 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-05 09:26:22.164 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-05 09:26:22.164 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-05 09:26:22.165 +07:00 [DBG] Executing controller factory for controller MagicVilla.Controllers.UsersController (MagicVilla)
2023-07-05 09:26:22.477 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-05 09:26:22.525 +07:00 [DBG] Executed controller factory for controller MagicVilla.Controllers.UsersController (MagicVilla)
2023-07-05 09:26:22.536 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO' ...
2023-07-05 09:26:22.538 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO' using the name '' in request data ...
2023-07-05 09:26:22.539 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-05 09:26:22.550 +07:00 [DBG] Connection id "0HMRSVSMFKQ11", Request id "0HMRSVSMFKQ11:00000002": started reading request body.
2023-07-05 09:26:22.550 +07:00 [DBG] Connection id "0HMRSVSMFKQ11", Request id "0HMRSVSMFKQ11:00000002": done reading request body.
2023-07-05 09:26:22.560 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'MagicVilla.Models.DTO.LoginRequestDTO'
2023-07-05 09:26:22.561 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO'.
2023-07-05 09:26:22.561 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO'.
2023-07-05 09:26:22.561 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO' ...
2023-07-05 09:26:22.574 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO'.
2023-07-05 09:26:23.670 +07:00 [INF] Entity Framework Core 6.0.19 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.19' with options: None
2023-07-05 09:26:23.806 +07:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(u => u.UserName.ToLower() == __ToLower_0 && u.Password == __loginRequestDTO_Password_1)'
2023-07-05 09:26:24.505 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE (LOWER(l.UserName) == @__ToLower_0) && (l.Password == @__loginRequestDTO_Password_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    MagicVilla.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-07-05 09:26:24.617 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-05 09:26:24.686 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (65ms).
2023-07-05 09:26:24.708 +07:00 [DBG] Opening connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:26:25.218 +07:00 [DBG] Opened connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:26:25.242 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE (LOWER([l].[UserName]) = @__ToLower_0) AND ([l].[Password] = @__loginRequestDTO_Password_1)
2023-07-05 09:26:25.342 +07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE (LOWER([l].[UserName]) = @__ToLower_0) AND ([l].[Password] = @__loginRequestDTO_Password_1)
2023-07-05 09:26:25.405 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 09:26:25.469 +07:00 [DBG] A data reader was disposed.
2023-07-05 09:26:25.474 +07:00 [DBG] Closing connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:26:25.492 +07:00 [DBG] Closed connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:26:25.724 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-05 09:26:25.726 +07:00 [DBG] No information found on request to perform content negotiation.
2023-07-05 09:26:25.726 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-05 09:26:25.726 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-05 09:26:25.727 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-05 09:26:25.727 +07:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla.Models.APIResponse'.
2023-07-05 09:26:25.743 +07:00 [INF] Executed action MagicVilla.Controllers.UsersController.Login (MagicVilla) in 3571.9593ms
2023-07-05 09:26:25.743 +07:00 [INF] Executed endpoint 'MagicVilla.Controllers.UsersController.Login (MagicVilla)'
2023-07-05 09:26:25.743 +07:00 [DBG] Connection id "0HMRSVSMFKQ11" completed keep alive response.
2023-07-05 09:26:25.751 +07:00 [DBG] 'ApplicationDbContext' disposed.
2023-07-05 09:26:25.757 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5240/api/UsersAuth/login application/json 55 - 200 - application/json;+charset=utf-8 3833.3352ms
2023-07-05 09:26:31.258 +07:00 [DBG] Connection id "0HMRSVSMFKQ11" received FIN.
2023-07-05 09:26:31.258 +07:00 [DBG] Connection id "0HMRSVSMFKQ11" sending FIN because: "The client closed the connection."
2023-07-05 09:26:31.258 +07:00 [DBG] Connection id "0HMRSVSMFKQ11" disconnecting.
2023-07-05 09:26:31.259 +07:00 [DBG] Connection id "0HMRSVSMFKQ11" stopped.
2023-07-05 09:26:42.124 +07:00 [DBG] Connection id "0HMRSVSMFKQ12" accepted.
2023-07-05 09:26:42.124 +07:00 [DBG] Connection id "0HMRSVSMFKQ12" started.
2023-07-05 09:26:42.125 +07:00 [DBG] Connection id "0HMRSVSMFKQ13" accepted.
2023-07-05 09:26:42.126 +07:00 [DBG] Connection id "0HMRSVSMFKQ13" started.
2023-07-05 09:26:42.130 +07:00 [DBG] Connection id "0HMRSVSMFKQ12" received FIN.
2023-07-05 09:26:42.130 +07:00 [DBG] Connection id "0HMRSVSMFKQ12" disconnecting.
2023-07-05 09:26:42.130 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/api/VillaAPI - -
2023-07-05 09:26:42.130 +07:00 [DBG] Connection id "0HMRSVSMFKQ12" stopped.
2023-07-05 09:26:42.133 +07:00 [DBG] Connection id "0HMRSVSMFKQ12" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-05 09:26:42.133 +07:00 [DBG] The request path  does not match the path filter
2023-07-05 09:26:42.242 +07:00 [DBG] Successfully validated the token.
2023-07-05 09:26:42.243 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-07-05 09:26:42.244 +07:00 [DBG] 1 candidate(s) found for the request path '/api/VillaAPI'
2023-07-05 09:26:42.244 +07:00 [DBG] Endpoint 'MagicVilla.Controllers.VillaAPIController.GetVillas (MagicVilla)' with route pattern 'api/VillaAPI' is valid for the request path '/api/VillaAPI'
2023-07-05 09:26:42.245 +07:00 [DBG] Request matched endpoint 'MagicVilla.Controllers.VillaAPIController.GetVillas (MagicVilla)'
2023-07-05 09:26:42.253 +07:00 [DBG] Authorization was successful.
2023-07-05 09:26:42.254 +07:00 [INF] Executing endpoint 'MagicVilla.Controllers.VillaAPIController.GetVillas (MagicVilla)'
2023-07-05 09:26:42.257 +07:00 [INF] Route matched with {action = "GetVillas", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla.Models.APIResponse]] GetVillas() on controller MagicVilla.Controllers.VillaAPIController (MagicVilla).
2023-07-05 09:26:42.257 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-05 09:26:42.257 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-05 09:26:42.257 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-05 09:26:42.257 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-05 09:26:42.257 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-05 09:26:42.257 +07:00 [DBG] Executing controller factory for controller MagicVilla.Controllers.VillaAPIController (MagicVilla)
2023-07-05 09:26:42.408 +07:00 [DBG] Executed controller factory for controller MagicVilla.Controllers.VillaAPIController (MagicVilla)
2023-07-05 09:26:42.425 +07:00 [INF] Entity Framework Core 6.0.19 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.19' with options: None
2023-07-05 09:26:42.434 +07:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-07-05 09:26:42.440 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-07-05 09:26:42.462 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-05 09:26:42.463 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-05 09:26:42.474 +07:00 [DBG] Opening connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:26:42.485 +07:00 [DBG] Opened connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:26:42.487 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
2023-07-05 09:26:42.540 +07:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
2023-07-05 09:26:42.560 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 09:26:42.578 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 09:26:42.578 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 09:26:42.578 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 09:26:42.584 +07:00 [DBG] A data reader was disposed.
2023-07-05 09:26:42.590 +07:00 [DBG] Closing connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:26:42.591 +07:00 [DBG] Closed connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:26:42.629 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-05 09:26:42.630 +07:00 [DBG] No information found on request to perform content negotiation.
2023-07-05 09:26:42.630 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-05 09:26:42.630 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-05 09:26:42.630 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-05 09:26:42.630 +07:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla.Models.APIResponse'.
2023-07-05 09:26:42.637 +07:00 [INF] Executed action MagicVilla.Controllers.VillaAPIController.GetVillas (MagicVilla) in 379.3713ms
2023-07-05 09:26:42.638 +07:00 [INF] Executed endpoint 'MagicVilla.Controllers.VillaAPIController.GetVillas (MagicVilla)'
2023-07-05 09:26:42.641 +07:00 [DBG] Connection id "0HMRSVSMFKQ13" completed keep alive response.
2023-07-05 09:26:42.641 +07:00 [DBG] 'ApplicationDbContext' disposed.
2023-07-05 09:26:42.641 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/api/VillaAPI - - - 200 - application/json;+charset=utf-8 511.2665ms
2023-07-05 09:27:52.205 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-05 09:27:52.414 +07:00 [DBG] Hosting starting
2023-07-05 09:27:52.548 +07:00 [INF] User profile is available. Using 'C:\Users\This PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-05 09:27:52.556 +07:00 [DBG] Reading data from file 'C:\Users\This PC\AppData\Local\ASP.NET\DataProtection-Keys\key-2f4877b4-2456-4d34-a4e8-4b53811009c5.xml'.
2023-07-05 09:27:52.595 +07:00 [DBG] Found key {2f4877b4-2456-4d34-a4e8-4b53811009c5}.
2023-07-05 09:27:52.622 +07:00 [DBG] Considering key {2f4877b4-2456-4d34-a4e8-4b53811009c5} with expiration date 2023-09-13 02:55:11Z as default key.
2023-07-05 09:27:52.625 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-07-05 09:27:52.631 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-07-05 09:27:52.634 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-07-05 09:27:52.641 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-07-05 09:27:52.645 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-07-05 09:27:52.652 +07:00 [DBG] Using key {2f4877b4-2456-4d34-a4e8-4b53811009c5} as the default key.
2023-07-05 09:27:52.653 +07:00 [DBG] Key ring with default key {2f4877b4-2456-4d34-a4e8-4b53811009c5} was loaded during application startup.
2023-07-05 09:27:52.998 +07:00 [INF] Now listening on: http://localhost:5240
2023-07-05 09:27:52.999 +07:00 [DBG] Loaded hosting startup assembly MagicVilla
2023-07-05 09:27:52.999 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-05 09:27:52.999 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-05 09:27:52.999 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-05 09:27:52.999 +07:00 [INF] Hosting environment: Development
2023-07-05 09:27:52.999 +07:00 [INF] Content root path: C:\Users\This PC\source\repos\MagicVilla\MagicVilla\
2023-07-05 09:27:52.999 +07:00 [DBG] Hosting started
2023-07-05 09:27:53.312 +07:00 [DBG] Connection id "0HMRSVTNOQ195" accepted.
2023-07-05 09:27:53.312 +07:00 [DBG] Connection id "0HMRSVTNOQ194" accepted.
2023-07-05 09:27:53.314 +07:00 [DBG] Connection id "0HMRSVTNOQ195" started.
2023-07-05 09:27:53.314 +07:00 [DBG] Connection id "0HMRSVTNOQ194" started.
2023-07-05 09:27:53.331 +07:00 [DBG] Connection id "0HMRSVTNOQ195" received FIN.
2023-07-05 09:27:53.331 +07:00 [DBG] Connection id "0HMRSVTNOQ194" received FIN.
2023-07-05 09:27:53.349 +07:00 [DBG] Connection id "0HMRSVTNOQ194" sending FIN because: "The client closed the connection."
2023-07-05 09:27:53.349 +07:00 [DBG] Connection id "0HMRSVTNOQ195" sending FIN because: "The client closed the connection."
2023-07-05 09:27:53.353 +07:00 [DBG] Connection id "0HMRSVTNOQ194" disconnecting.
2023-07-05 09:27:53.353 +07:00 [DBG] Connection id "0HMRSVTNOQ195" disconnecting.
2023-07-05 09:27:53.365 +07:00 [DBG] Connection id "0HMRSVTNOQ194" stopped.
2023-07-05 09:27:53.365 +07:00 [DBG] Connection id "0HMRSVTNOQ195" stopped.
2023-07-05 09:27:53.797 +07:00 [DBG] Connection id "0HMRSVTNOQ196" accepted.
2023-07-05 09:27:53.797 +07:00 [DBG] Connection id "0HMRSVTNOQ196" started.
2023-07-05 09:27:53.806 +07:00 [DBG] Connection id "0HMRSVTNOQ197" accepted.
2023-07-05 09:27:53.806 +07:00 [DBG] Connection id "0HMRSVTNOQ197" started.
2023-07-05 09:27:53.888 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/swagger/index.html - -
2023-07-05 09:27:53.966 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-05 09:27:54.228 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-05 09:27:54.546 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-05 09:27:54.547 +07:00 [DBG] Connection id "0HMRSVTNOQ196" completed keep alive response.
2023-07-05 09:27:54.549 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/swagger/index.html - - - 200 - text/html;charset=utf-8 668.7234ms
2023-07-05 09:27:54.577 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/_vs/browserLink - -
2023-07-05 09:27:54.586 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/_framework/aspnetcore-browser-refresh.js - -
2023-07-05 09:27:54.602 +07:00 [DBG] Connection id "0HMRSVTNOQ196" completed keep alive response.
2023-07-05 09:27:54.602 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 16.0666ms
2023-07-05 09:27:54.662 +07:00 [DBG] Connection id "0HMRSVTNOQ197" completed keep alive response.
2023-07-05 09:27:54.663 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 85.7332ms
2023-07-05 09:27:54.775 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/swagger/v1/swagger.json - -
2023-07-05 09:27:55.069 +07:00 [DBG] Connection id "0HMRSVTNOQ197" completed keep alive response.
2023-07-05 09:27:55.069 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 293.8572ms
2023-07-05 09:27:56.399 +07:00 [DBG] Connection id "0HMRSVTNOQ197" received FIN.
2023-07-05 09:27:56.399 +07:00 [DBG] Connection id "0HMRSVTNOQ196" received FIN.
2023-07-05 09:27:56.399 +07:00 [DBG] Connection id "0HMRSVTNOQ197" sending FIN because: "The client closed the connection."
2023-07-05 09:27:56.399 +07:00 [DBG] Connection id "0HMRSVTNOQ196" sending FIN because: "The client closed the connection."
2023-07-05 09:27:56.400 +07:00 [DBG] Connection id "0HMRSVTNOQ196" disconnecting.
2023-07-05 09:27:56.400 +07:00 [DBG] Connection id "0HMRSVTNOQ197" disconnecting.
2023-07-05 09:27:56.409 +07:00 [DBG] Connection id "0HMRSVTNOQ197" stopped.
2023-07-05 09:27:56.409 +07:00 [DBG] Connection id "0HMRSVTNOQ196" stopped.
2023-07-05 09:28:08.682 +07:00 [DBG] Connection id "0HMRSVTNOQ198" accepted.
2023-07-05 09:28:08.682 +07:00 [DBG] Connection id "0HMRSVTNOQ198" started.
2023-07-05 09:28:08.682 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/api/VillaAPI - -
2023-07-05 09:28:08.687 +07:00 [DBG] The request path  does not match the path filter
2023-07-05 09:28:09.112 +07:00 [DBG] Successfully validated the token.
2023-07-05 09:28:09.114 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-07-05 09:28:09.162 +07:00 [DBG] 1 candidate(s) found for the request path '/api/VillaAPI'
2023-07-05 09:28:09.165 +07:00 [DBG] Endpoint 'MagicVilla.Controllers.VillaAPIController.GetVillas (MagicVilla)' with route pattern 'api/VillaAPI' is valid for the request path '/api/VillaAPI'
2023-07-05 09:28:09.166 +07:00 [DBG] Request matched endpoint 'MagicVilla.Controllers.VillaAPIController.GetVillas (MagicVilla)'
2023-07-05 09:28:09.175 +07:00 [DBG] Authorization was successful.
2023-07-05 09:28:09.176 +07:00 [INF] Executing endpoint 'MagicVilla.Controllers.VillaAPIController.GetVillas (MagicVilla)'
2023-07-05 09:28:09.203 +07:00 [INF] Route matched with {action = "GetVillas", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla.Models.APIResponse]] GetVillas() on controller MagicVilla.Controllers.VillaAPIController (MagicVilla).
2023-07-05 09:28:09.205 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-05 09:28:09.205 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-05 09:28:09.205 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-05 09:28:09.205 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-05 09:28:09.206 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-05 09:28:09.207 +07:00 [DBG] Executing controller factory for controller MagicVilla.Controllers.VillaAPIController (MagicVilla)
2023-07-05 09:28:09.444 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-05 09:28:09.616 +07:00 [DBG] Executed controller factory for controller MagicVilla.Controllers.VillaAPIController (MagicVilla)
2023-07-05 09:28:10.416 +07:00 [INF] Entity Framework Core 6.0.19 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.19' with options: None
2023-07-05 09:28:10.522 +07:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2023-07-05 09:28:10.776 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-07-05 09:28:10.850 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-05 09:28:10.907 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (53ms).
2023-07-05 09:28:10.920 +07:00 [DBG] Opening connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:28:11.412 +07:00 [DBG] Opened connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:28:11.432 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
2023-07-05 09:28:11.531 +07:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
2023-07-05 09:28:11.615 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 09:28:11.664 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 09:28:11.664 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 09:28:11.664 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 09:28:11.678 +07:00 [DBG] A data reader was disposed.
2023-07-05 09:28:11.687 +07:00 [DBG] Closing connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:28:11.700 +07:00 [DBG] Closed connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 09:28:11.740 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-05 09:28:11.743 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-07-05 09:28:11.743 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-07-05 09:28:11.743 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-05 09:28:11.743 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-05 09:28:11.744 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-05 09:28:11.745 +07:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla.Models.APIResponse'.
2023-07-05 09:28:11.763 +07:00 [INF] Executed action MagicVilla.Controllers.VillaAPIController.GetVillas (MagicVilla) in 2552.0705ms
2023-07-05 09:28:11.765 +07:00 [INF] Executed endpoint 'MagicVilla.Controllers.VillaAPIController.GetVillas (MagicVilla)'
2023-07-05 09:28:11.768 +07:00 [DBG] Connection id "0HMRSVTNOQ198" completed keep alive response.
2023-07-05 09:28:11.776 +07:00 [DBG] 'ApplicationDbContext' disposed.
2023-07-05 09:28:11.782 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/api/VillaAPI - - - 200 - application/json;+charset=utf-8 3099.8830ms
2023-07-05 09:28:16.414 +07:00 [DBG] Connection id "0HMRSVTNOQ198" received FIN.
2023-07-05 09:28:16.414 +07:00 [DBG] Connection id "0HMRSVTNOQ198" sending FIN because: "The client closed the connection."
2023-07-05 09:28:16.414 +07:00 [DBG] Connection id "0HMRSVTNOQ198" disconnecting.
2023-07-05 09:28:16.414 +07:00 [DBG] Connection id "0HMRSVTNOQ198" stopped.
2023-07-05 13:45:42.479 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-05 13:45:42.692 +07:00 [DBG] Hosting starting
2023-07-05 13:45:42.761 +07:00 [INF] User profile is available. Using 'C:\Users\This PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-05 13:45:42.767 +07:00 [DBG] Reading data from file 'C:\Users\This PC\AppData\Local\ASP.NET\DataProtection-Keys\key-2f4877b4-2456-4d34-a4e8-4b53811009c5.xml'.
2023-07-05 13:45:42.800 +07:00 [DBG] Found key {2f4877b4-2456-4d34-a4e8-4b53811009c5}.
2023-07-05 13:45:42.824 +07:00 [DBG] Considering key {2f4877b4-2456-4d34-a4e8-4b53811009c5} with expiration date 2023-09-13 02:55:11Z as default key.
2023-07-05 13:45:42.826 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-07-05 13:45:42.829 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-07-05 13:45:42.831 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-07-05 13:45:42.835 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-07-05 13:45:42.836 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-07-05 13:45:42.839 +07:00 [DBG] Using key {2f4877b4-2456-4d34-a4e8-4b53811009c5} as the default key.
2023-07-05 13:45:42.840 +07:00 [DBG] Key ring with default key {2f4877b4-2456-4d34-a4e8-4b53811009c5} was loaded during application startup.
2023-07-05 13:45:43.058 +07:00 [INF] Now listening on: http://localhost:5240
2023-07-05 13:45:43.058 +07:00 [DBG] Loaded hosting startup assembly MagicVilla
2023-07-05 13:45:43.058 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-05 13:45:43.058 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-05 13:45:43.058 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-05 13:45:43.059 +07:00 [INF] Hosting environment: Development
2023-07-05 13:45:43.059 +07:00 [INF] Content root path: C:\Users\This PC\source\repos\MagicVilla\MagicVilla\
2023-07-05 13:45:43.059 +07:00 [DBG] Hosting started
2023-07-05 13:45:43.213 +07:00 [DBG] Connection id "0HMRT4DQ5A7RF" received FIN.
2023-07-05 13:45:43.213 +07:00 [DBG] Connection id "0HMRT4DQ5A7RG" received FIN.
2023-07-05 13:45:43.225 +07:00 [DBG] Connection id "0HMRT4DQ5A7RD" accepted.
2023-07-05 13:45:43.225 +07:00 [DBG] Connection id "0HMRT4DQ5A7RG" accepted.
2023-07-05 13:45:43.227 +07:00 [DBG] Connection id "0HMRT4DQ5A7RG" started.
2023-07-05 13:45:43.227 +07:00 [DBG] Connection id "0HMRT4DQ5A7RD" started.
2023-07-05 13:45:43.244 +07:00 [DBG] Connection id "0HMRT4DQ5A7RG" sending FIN because: "The client closed the connection."
2023-07-05 13:45:43.244 +07:00 [DBG] Connection id "0HMRT4DQ5A7RD" sending FIN because: "The client closed the connection."
2023-07-05 13:45:43.249 +07:00 [DBG] Connection id "0HMRT4DQ5A7RG" disconnecting.
2023-07-05 13:45:43.250 +07:00 [DBG] Connection id "0HMRT4DQ5A7RD" disconnecting.
2023-07-05 13:45:43.259 +07:00 [DBG] Connection id "0HMRT4DQ5A7RD" stopped.
2023-07-05 13:45:43.259 +07:00 [DBG] Connection id "0HMRT4DQ5A7RG" stopped.
2023-07-05 13:45:43.881 +07:00 [DBG] Connection id "0HMRT4DQ5A7RH" accepted.
2023-07-05 13:45:43.891 +07:00 [DBG] Connection id "0HMRT4DQ5A7RH" started.
2023-07-05 13:45:43.893 +07:00 [DBG] Connection id "0HMRT4DQ5A7RI" accepted.
2023-07-05 13:45:43.896 +07:00 [DBG] Connection id "0HMRT4DQ5A7RI" started.
2023-07-05 13:45:44.030 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/swagger/index.html - -
2023-07-05 13:45:44.105 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-05 13:45:44.256 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-05 13:45:44.470 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-05 13:45:44.470 +07:00 [DBG] Connection id "0HMRT4DQ5A7RH" completed keep alive response.
2023-07-05 13:45:44.472 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/swagger/index.html - - - 200 - text/html;charset=utf-8 452.2241ms
2023-07-05 13:45:44.487 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/_framework/aspnetcore-browser-refresh.js - -
2023-07-05 13:45:44.490 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/_vs/browserLink - -
2023-07-05 13:45:44.497 +07:00 [DBG] Connection id "0HMRT4DQ5A7RI" completed keep alive response.
2023-07-05 13:45:44.497 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 10.1391ms
2023-07-05 13:45:44.545 +07:00 [DBG] Connection id "0HMRT4DQ5A7RH" completed keep alive response.
2023-07-05 13:45:44.546 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 55.2807ms
2023-07-05 13:45:44.621 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/swagger/v1/swagger.json - -
2023-07-05 13:45:44.838 +07:00 [DBG] Connection id "0HMRT4DQ5A7RH" completed keep alive response.
2023-07-05 13:45:44.839 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 217.6322ms
2023-07-05 13:45:51.733 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/api/VillaAPI/1 - -
2023-07-05 13:45:51.736 +07:00 [DBG] The request path  does not match the path filter
2023-07-05 13:45:51.859 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-07-05 13:45:51.891 +07:00 [DBG] 1 candidate(s) found for the request path '/api/VillaAPI/1'
2023-07-05 13:45:51.896 +07:00 [DBG] Endpoint 'MagicVilla.Controllers.VillaAPIController.GetVilla (MagicVilla)' with route pattern 'api/VillaAPI/{id}' is valid for the request path '/api/VillaAPI/1'
2023-07-05 13:45:51.896 +07:00 [DBG] Request matched endpoint 'MagicVilla.Controllers.VillaAPIController.GetVilla (MagicVilla)'
2023-07-05 13:45:51.900 +07:00 [INF] Executing endpoint 'MagicVilla.Controllers.VillaAPIController.GetVilla (MagicVilla)'
2023-07-05 13:45:51.939 +07:00 [INF] Route matched with {action = "GetVilla", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla.Models.DTO.VillaDTO]] GetVilla(Int32) on controller MagicVilla.Controllers.VillaAPIController (MagicVilla).
2023-07-05 13:45:51.939 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-05 13:45:51.939 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-05 13:45:51.939 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-05 13:45:51.940 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-05 13:45:51.940 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-05 13:45:51.940 +07:00 [DBG] Executing controller factory for controller MagicVilla.Controllers.VillaAPIController (MagicVilla)
2023-07-05 13:45:52.227 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-05 13:45:52.406 +07:00 [DBG] Executed controller factory for controller MagicVilla.Controllers.VillaAPIController (MagicVilla)
2023-07-05 13:45:52.415 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-07-05 13:45:52.417 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-07-05 13:45:52.419 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-05 13:45:52.419 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-05 13:45:52.419 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-07-05 13:45:52.422 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-07-05 13:45:53.354 +07:00 [INF] Entity Framework Core 6.0.19 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.19' with options: None
2023-07-05 13:45:53.491 +07:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(u => u.Id == __id_0)
    .FirstOrDefault()'
2023-07-05 13:45:53.693 +07:00 [DBG] Connection id "0HMRT4DQ5A7RI" received FIN.
2023-07-05 13:45:53.693 +07:00 [DBG] Connection id "0HMRT4DQ5A7RI" sending FIN because: "The client closed the connection."
2023-07-05 13:45:53.693 +07:00 [DBG] Connection id "0HMRT4DQ5A7RI" disconnecting.
2023-07-05 13:45:53.699 +07:00 [DBG] Connection id "0HMRT4DQ5A7RI" stopped.
2023-07-05 13:45:53.909 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE v.Id == @__id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-05 13:45:53.996 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-05 13:45:54.050 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (51ms).
2023-07-05 13:45:54.075 +07:00 [DBG] Opening connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 13:45:54.550 +07:00 [DBG] Opened connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 13:45:54.581 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2023-07-05 13:45:54.715 +07:00 [INF] Executed DbCommand (148ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2023-07-05 13:45:54.803 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 13:45:54.880 +07:00 [DBG] A data reader was disposed.
2023-07-05 13:45:54.889 +07:00 [DBG] Closing connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 13:45:54.906 +07:00 [DBG] Closed connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 13:45:54.930 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-05 13:45:54.934 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-07-05 13:45:54.934 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-07-05 13:45:54.935 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-05 13:45:54.935 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-05 13:45:54.935 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-05 13:45:54.936 +07:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla.Models.DTO.VillaDTO'.
2023-07-05 13:45:54.954 +07:00 [INF] Executed action MagicVilla.Controllers.VillaAPIController.GetVilla (MagicVilla) in 3007.2996ms
2023-07-05 13:45:54.956 +07:00 [INF] Executed endpoint 'MagicVilla.Controllers.VillaAPIController.GetVilla (MagicVilla)'
2023-07-05 13:45:54.959 +07:00 [DBG] Connection id "0HMRT4DQ5A7RH" completed keep alive response.
2023-07-05 13:45:54.966 +07:00 [DBG] 'ApplicationDbContext' disposed.
2023-07-05 13:45:54.972 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/api/VillaAPI/1 - - - 200 - application/json;+charset=utf-8 3238.9790ms
2023-07-05 13:46:03.716 +07:00 [DBG] Connection id "0HMRT4DQ5A7RH" received FIN.
2023-07-05 13:46:03.716 +07:00 [DBG] Connection id "0HMRT4DQ5A7RH" sending FIN because: "The client closed the connection."
2023-07-05 13:46:03.716 +07:00 [DBG] Connection id "0HMRT4DQ5A7RH" disconnecting.
2023-07-05 13:46:03.717 +07:00 [DBG] Connection id "0HMRT4DQ5A7RH" stopped.
2023-07-05 15:02:51.396 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-05 15:02:51.948 +07:00 [DBG] Hosting starting
2023-07-05 15:02:52.049 +07:00 [INF] User profile is available. Using 'C:\Users\This PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-05 15:02:52.055 +07:00 [DBG] Reading data from file 'C:\Users\This PC\AppData\Local\ASP.NET\DataProtection-Keys\key-2f4877b4-2456-4d34-a4e8-4b53811009c5.xml'.
2023-07-05 15:02:52.093 +07:00 [DBG] Found key {2f4877b4-2456-4d34-a4e8-4b53811009c5}.
2023-07-05 15:02:52.112 +07:00 [DBG] Considering key {2f4877b4-2456-4d34-a4e8-4b53811009c5} with expiration date 2023-09-13 02:55:11Z as default key.
2023-07-05 15:02:52.115 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-07-05 15:02:52.119 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-07-05 15:02:52.120 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-07-05 15:02:52.126 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-07-05 15:02:52.128 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-07-05 15:02:52.132 +07:00 [DBG] Using key {2f4877b4-2456-4d34-a4e8-4b53811009c5} as the default key.
2023-07-05 15:02:52.133 +07:00 [DBG] Key ring with default key {2f4877b4-2456-4d34-a4e8-4b53811009c5} was loaded during application startup.
2023-07-05 15:02:52.358 +07:00 [INF] Now listening on: http://localhost:5240
2023-07-05 15:02:52.358 +07:00 [DBG] Loaded hosting startup assembly MagicVilla
2023-07-05 15:02:52.358 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-05 15:02:52.358 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-05 15:02:52.358 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-05 15:02:52.358 +07:00 [INF] Hosting environment: Development
2023-07-05 15:02:52.358 +07:00 [INF] Content root path: C:\Users\This PC\source\repos\MagicVilla\MagicVilla\
2023-07-05 15:02:52.359 +07:00 [DBG] Hosting started
2023-07-05 15:02:52.570 +07:00 [DBG] Connection id "0HMRT5OTQ9TMI" received FIN.
2023-07-05 15:02:52.570 +07:00 [DBG] Connection id "0HMRT5OTQ9TMJ" received FIN.
2023-07-05 15:02:52.585 +07:00 [DBG] Connection id "0HMRT5OTQ9TMJ" accepted.
2023-07-05 15:02:52.585 +07:00 [DBG] Connection id "0HMRT5OTQ9TMI" accepted.
2023-07-05 15:02:52.586 +07:00 [DBG] Connection id "0HMRT5OTQ9TMI" started.
2023-07-05 15:02:52.586 +07:00 [DBG] Connection id "0HMRT5OTQ9TMJ" started.
2023-07-05 15:02:52.600 +07:00 [DBG] Connection id "0HMRT5OTQ9TMJ" sending FIN because: "The client closed the connection."
2023-07-05 15:02:52.600 +07:00 [DBG] Connection id "0HMRT5OTQ9TMI" sending FIN because: "The client closed the connection."
2023-07-05 15:02:52.604 +07:00 [DBG] Connection id "0HMRT5OTQ9TMJ" disconnecting.
2023-07-05 15:02:52.604 +07:00 [DBG] Connection id "0HMRT5OTQ9TMI" disconnecting.
2023-07-05 15:02:52.611 +07:00 [DBG] Connection id "0HMRT5OTQ9TMI" stopped.
2023-07-05 15:02:52.611 +07:00 [DBG] Connection id "0HMRT5OTQ9TMJ" stopped.
2023-07-05 15:02:53.065 +07:00 [DBG] Connection id "0HMRT5OTQ9TMK" accepted.
2023-07-05 15:02:53.122 +07:00 [DBG] Connection id "0HMRT5OTQ9TMK" started.
2023-07-05 15:02:53.123 +07:00 [DBG] Connection id "0HMRT5OTQ9TML" accepted.
2023-07-05 15:02:53.126 +07:00 [DBG] Connection id "0HMRT5OTQ9TML" started.
2023-07-05 15:02:53.255 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/swagger/index.html - -
2023-07-05 15:02:53.339 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-05 15:02:53.748 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-05 15:02:54.063 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/_framework/aspnetcore-browser-refresh.js - -
2023-07-05 15:02:54.074 +07:00 [DBG] Connection id "0HMRT5OTQ9TML" completed keep alive response.
2023-07-05 15:02:54.076 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-05 15:02:54.076 +07:00 [DBG] Connection id "0HMRT5OTQ9TMK" completed keep alive response.
2023-07-05 15:02:54.078 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/swagger/index.html - - - 200 - text/html;charset=utf-8 829.6557ms
2023-07-05 15:02:54.078 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 11.5023ms
2023-07-05 15:02:54.107 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/_vs/browserLink - -
2023-07-05 15:02:54.194 +07:00 [DBG] Connection id "0HMRT5OTQ9TMK" completed keep alive response.
2023-07-05 15:02:54.194 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 86.8782ms
2023-07-05 15:02:54.252 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/swagger/v1/swagger.json - -
2023-07-05 15:02:54.525 +07:00 [DBG] Connection id "0HMRT5OTQ9TMK" completed keep alive response.
2023-07-05 15:02:54.525 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 273.3419ms
2023-07-05 15:02:55.465 +07:00 [DBG] Connection id "0HMRT5OTQ9TML" received FIN.
2023-07-05 15:02:55.465 +07:00 [DBG] Connection id "0HMRT5OTQ9TMK" received FIN.
2023-07-05 15:02:55.465 +07:00 [DBG] Connection id "0HMRT5OTQ9TML" sending FIN because: "The client closed the connection."
2023-07-05 15:02:55.465 +07:00 [DBG] Connection id "0HMRT5OTQ9TMK" sending FIN because: "The client closed the connection."
2023-07-05 15:02:55.465 +07:00 [DBG] Connection id "0HMRT5OTQ9TML" disconnecting.
2023-07-05 15:02:55.465 +07:00 [DBG] Connection id "0HMRT5OTQ9TMK" disconnecting.
2023-07-05 15:02:55.483 +07:00 [DBG] Connection id "0HMRT5OTQ9TMK" stopped.
2023-07-05 15:02:55.483 +07:00 [DBG] Connection id "0HMRT5OTQ9TML" stopped.
2023-07-05 15:03:00.620 +07:00 [DBG] Connection id "0HMRT5OTQ9TMM" accepted.
2023-07-05 15:03:00.620 +07:00 [DBG] Connection id "0HMRT5OTQ9TMM" started.
2023-07-05 15:03:00.620 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/api/VillaAPI/1 - -
2023-07-05 15:03:00.626 +07:00 [DBG] The request path  does not match the path filter
2023-07-05 15:03:00.758 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-07-05 15:03:00.786 +07:00 [DBG] 1 candidate(s) found for the request path '/api/VillaAPI/1'
2023-07-05 15:03:00.792 +07:00 [DBG] Endpoint 'MagicVilla.Controllers.VillaAPIController.GetVilla (MagicVilla)' with route pattern 'api/VillaAPI/{id}' is valid for the request path '/api/VillaAPI/1'
2023-07-05 15:03:00.792 +07:00 [DBG] Request matched endpoint 'MagicVilla.Controllers.VillaAPIController.GetVilla (MagicVilla)'
2023-07-05 15:03:00.796 +07:00 [INF] Executing endpoint 'MagicVilla.Controllers.VillaAPIController.GetVilla (MagicVilla)'
2023-07-05 15:03:00.901 +07:00 [INF] Route matched with {action = "GetVilla", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla.Models.DTO.VillaDTO]] GetVilla(Int32) on controller MagicVilla.Controllers.VillaAPIController (MagicVilla).
2023-07-05 15:03:00.902 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-05 15:03:00.902 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-05 15:03:00.902 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-05 15:03:00.902 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-05 15:03:00.902 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-05 15:03:00.903 +07:00 [DBG] Executing controller factory for controller MagicVilla.Controllers.VillaAPIController (MagicVilla)
2023-07-05 15:03:01.247 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-05 15:03:01.430 +07:00 [DBG] Executed controller factory for controller MagicVilla.Controllers.VillaAPIController (MagicVilla)
2023-07-05 15:03:01.437 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-07-05 15:03:01.439 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-07-05 15:03:01.441 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-05 15:03:01.441 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-05 15:03:01.441 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-07-05 15:03:01.444 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-07-05 15:03:02.437 +07:00 [INF] Entity Framework Core 6.0.19 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.19' with options: None
2023-07-05 15:03:02.622 +07:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(u => u.Id == __id_0)
    .FirstOrDefault()'
2023-07-05 15:03:03.126 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE v.Id == @__id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-05 15:03:03.244 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-05 15:03:03.310 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (62ms).
2023-07-05 15:03:03.336 +07:00 [DBG] Opening connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 15:03:03.871 +07:00 [DBG] Opened connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 15:03:03.900 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2023-07-05 15:03:04.074 +07:00 [INF] Executed DbCommand (182ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2023-07-05 15:03:04.162 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 15:03:04.243 +07:00 [DBG] A data reader was disposed.
2023-07-05 15:03:04.257 +07:00 [DBG] Closing connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 15:03:04.273 +07:00 [DBG] Closed connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 15:03:04.300 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-05 15:03:04.304 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-07-05 15:03:04.305 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-07-05 15:03:04.305 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-05 15:03:04.306 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-05 15:03:04.306 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-05 15:03:04.306 +07:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla.Models.DTO.VillaDTO'.
2023-07-05 15:03:04.322 +07:00 [INF] Executed action MagicVilla.Controllers.VillaAPIController.GetVilla (MagicVilla) in 3412.2592ms
2023-07-05 15:03:04.324 +07:00 [INF] Executed endpoint 'MagicVilla.Controllers.VillaAPIController.GetVilla (MagicVilla)'
2023-07-05 15:03:04.326 +07:00 [DBG] Connection id "0HMRT5OTQ9TMM" completed keep alive response.
2023-07-05 15:03:04.333 +07:00 [DBG] 'ApplicationDbContext' disposed.
2023-07-05 15:03:04.340 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/api/VillaAPI/1 - - - 200 - application/json;+charset=utf-8 3719.4550ms
2023-07-05 15:03:10.498 +07:00 [DBG] Connection id "0HMRT5OTQ9TMM" received FIN.
2023-07-05 15:03:10.498 +07:00 [DBG] Connection id "0HMRT5OTQ9TMM" sending FIN because: "The client closed the connection."
2023-07-05 15:03:10.498 +07:00 [DBG] Connection id "0HMRT5OTQ9TMM" disconnecting.
2023-07-05 15:03:10.498 +07:00 [DBG] Connection id "0HMRT5OTQ9TMM" stopped.
2023-07-05 15:19:08.094 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-05 15:19:08.273 +07:00 [DBG] Hosting starting
2023-07-05 15:19:08.714 +07:00 [INF] User profile is available. Using 'C:\Users\This PC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-05 15:19:08.731 +07:00 [DBG] Reading data from file 'C:\Users\This PC\AppData\Local\ASP.NET\DataProtection-Keys\key-2f4877b4-2456-4d34-a4e8-4b53811009c5.xml'.
2023-07-05 15:19:08.787 +07:00 [DBG] Found key {2f4877b4-2456-4d34-a4e8-4b53811009c5}.
2023-07-05 15:19:08.830 +07:00 [DBG] Considering key {2f4877b4-2456-4d34-a4e8-4b53811009c5} with expiration date 2023-09-13 02:55:11Z as default key.
2023-07-05 15:19:08.867 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-07-05 15:19:08.872 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-07-05 15:19:08.874 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-07-05 15:19:08.878 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-07-05 15:19:08.881 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-07-05 15:19:08.885 +07:00 [DBG] Using key {2f4877b4-2456-4d34-a4e8-4b53811009c5} as the default key.
2023-07-05 15:19:08.885 +07:00 [DBG] Key ring with default key {2f4877b4-2456-4d34-a4e8-4b53811009c5} was loaded during application startup.
2023-07-05 15:19:09.336 +07:00 [INF] Now listening on: http://localhost:5240
2023-07-05 15:19:09.336 +07:00 [DBG] Loaded hosting startup assembly MagicVilla
2023-07-05 15:19:09.336 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-05 15:19:09.336 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-05 15:19:09.337 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-05 15:19:09.337 +07:00 [INF] Hosting environment: Development
2023-07-05 15:19:09.337 +07:00 [INF] Content root path: C:\Users\This PC\source\repos\MagicVilla\MagicVilla\
2023-07-05 15:19:09.337 +07:00 [DBG] Hosting started
2023-07-05 15:19:09.670 +07:00 [DBG] Connection id "0HMRT6210HV6R" accepted.
2023-07-05 15:19:09.670 +07:00 [DBG] Connection id "0HMRT6210HV6Q" accepted.
2023-07-05 15:19:09.696 +07:00 [DBG] Connection id "0HMRT6210HV6Q" started.
2023-07-05 15:19:09.696 +07:00 [DBG] Connection id "0HMRT6210HV6R" started.
2023-07-05 15:19:09.702 +07:00 [DBG] Connection id "0HMRT6210HV6Q" received FIN.
2023-07-05 15:19:09.702 +07:00 [DBG] Connection id "0HMRT6210HV6R" received FIN.
2023-07-05 15:19:09.719 +07:00 [DBG] Connection id "0HMRT6210HV6R" sending FIN because: "The client closed the connection."
2023-07-05 15:19:09.720 +07:00 [DBG] Connection id "0HMRT6210HV6Q" sending FIN because: "The client closed the connection."
2023-07-05 15:19:09.723 +07:00 [DBG] Connection id "0HMRT6210HV6Q" disconnecting.
2023-07-05 15:19:09.723 +07:00 [DBG] Connection id "0HMRT6210HV6R" disconnecting.
2023-07-05 15:19:09.734 +07:00 [DBG] Connection id "0HMRT6210HV6Q" stopped.
2023-07-05 15:19:09.734 +07:00 [DBG] Connection id "0HMRT6210HV6R" stopped.
2023-07-05 15:19:11.001 +07:00 [DBG] Connection id "0HMRT6210HV6S" accepted.
2023-07-05 15:19:11.002 +07:00 [DBG] Connection id "0HMRT6210HV6S" started.
2023-07-05 15:19:11.125 +07:00 [DBG] Connection id "0HMRT6210HV6T" accepted.
2023-07-05 15:19:11.126 +07:00 [DBG] Connection id "0HMRT6210HV6T" started.
2023-07-05 15:19:11.269 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/swagger/index.html - -
2023-07-05 15:19:11.385 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-05 15:19:11.607 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-05 15:19:11.826 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-05 15:19:11.827 +07:00 [DBG] Connection id "0HMRT6210HV6S" completed keep alive response.
2023-07-05 15:19:11.829 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/swagger/index.html - - - 200 - text/html;charset=utf-8 581.9580ms
2023-07-05 15:19:11.853 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/_framework/aspnetcore-browser-refresh.js - -
2023-07-05 15:19:11.853 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/_vs/browserLink - -
2023-07-05 15:19:11.863 +07:00 [DBG] Connection id "0HMRT6210HV6T" completed keep alive response.
2023-07-05 15:19:11.864 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 10.8195ms
2023-07-05 15:19:11.898 +07:00 [DBG] Connection id "0HMRT6210HV6S" completed keep alive response.
2023-07-05 15:19:11.898 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 45.3988ms
2023-07-05 15:19:12.002 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5240/swagger/v1/swagger.json - -
2023-07-05 15:19:12.333 +07:00 [DBG] Connection id "0HMRT6210HV6S" completed keep alive response.
2023-07-05 15:19:12.334 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5240/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 331.5069ms
2023-07-05 15:19:16.943 +07:00 [DBG] Connection id "0HMRT6210HV6T" received FIN.
2023-07-05 15:19:16.943 +07:00 [DBG] Connection id "0HMRT6210HV6S" received FIN.
2023-07-05 15:19:16.943 +07:00 [DBG] Connection id "0HMRT6210HV6S" sending FIN because: "The client closed the connection."
2023-07-05 15:19:16.943 +07:00 [DBG] Connection id "0HMRT6210HV6T" sending FIN because: "The client closed the connection."
2023-07-05 15:19:16.943 +07:00 [DBG] Connection id "0HMRT6210HV6S" disconnecting.
2023-07-05 15:19:16.943 +07:00 [DBG] Connection id "0HMRT6210HV6T" disconnecting.
2023-07-05 15:19:16.956 +07:00 [DBG] Connection id "0HMRT6210HV6T" stopped.
2023-07-05 15:19:16.956 +07:00 [DBG] Connection id "0HMRT6210HV6S" stopped.
2023-07-05 15:19:48.489 +07:00 [DBG] Connection id "0HMRT6210HV6U" accepted.
2023-07-05 15:19:48.497 +07:00 [DBG] Connection id "0HMRT6210HV6U" started.
2023-07-05 15:19:48.505 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5240/api/VillaAPI application/json 147
2023-07-05 15:19:48.509 +07:00 [DBG] POST requests are not supported
2023-07-05 15:19:48.658 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-07-05 15:19:48.698 +07:00 [DBG] 1 candidate(s) found for the request path '/api/VillaAPI'
2023-07-05 15:19:48.702 +07:00 [DBG] Endpoint 'MagicVilla.Controllers.VillaAPIController.CreateVilla (MagicVilla)' with route pattern 'api/VillaAPI' is valid for the request path '/api/VillaAPI'
2023-07-05 15:19:48.702 +07:00 [DBG] Request matched endpoint 'MagicVilla.Controllers.VillaAPIController.CreateVilla (MagicVilla)'
2023-07-05 15:19:48.709 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2023-07-05 15:19:48.718 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-07-05 15:19:48.719 +07:00 [DBG] Connection id "0HMRT6210HV6U" completed keep alive response.
2023-07-05 15:19:48.719 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5240/api/VillaAPI application/json 147 - 401 0 - 214.0562ms
2023-07-05 15:19:48.719 +07:00 [DBG] Connection id "0HMRT6210HV6U", Request id "0HMRT6210HV6U:00000002": started reading request body.
2023-07-05 15:19:48.719 +07:00 [DBG] Connection id "0HMRT6210HV6U", Request id "0HMRT6210HV6U:00000002": done reading request body.
2023-07-05 15:19:56.998 +07:00 [DBG] Connection id "0HMRT6210HV6U" received FIN.
2023-07-05 15:19:56.999 +07:00 [DBG] Connection id "0HMRT6210HV6U" sending FIN because: "The client closed the connection."
2023-07-05 15:19:57.001 +07:00 [DBG] Connection id "0HMRT6210HV6U" disconnecting.
2023-07-05 15:19:57.001 +07:00 [DBG] Connection id "0HMRT6210HV6U" stopped.
2023-07-05 15:20:05.316 +07:00 [DBG] Connection id "0HMRT6210HV6V" accepted.
2023-07-05 15:20:05.316 +07:00 [DBG] Connection id "0HMRT6210HV6V" started.
2023-07-05 15:20:05.317 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5240/api/UsersAuth/login application/json 55
2023-07-05 15:20:05.317 +07:00 [DBG] POST requests are not supported
2023-07-05 15:20:05.319 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-07-05 15:20:05.320 +07:00 [DBG] 1 candidate(s) found for the request path '/api/UsersAuth/login'
2023-07-05 15:20:05.320 +07:00 [DBG] Endpoint 'MagicVilla.Controllers.UsersController.Login (MagicVilla)' with route pattern 'api/UsersAuth/login' is valid for the request path '/api/UsersAuth/login'
2023-07-05 15:20:05.320 +07:00 [DBG] Request matched endpoint 'MagicVilla.Controllers.UsersController.Login (MagicVilla)'
2023-07-05 15:20:05.321 +07:00 [INF] Executing endpoint 'MagicVilla.Controllers.UsersController.Login (MagicVilla)'
2023-07-05 15:20:05.366 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla.Models.DTO.LoginRequestDTO) on controller MagicVilla.Controllers.UsersController (MagicVilla).
2023-07-05 15:20:05.366 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-05 15:20:05.366 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-05 15:20:05.366 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-05 15:20:05.367 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-05 15:20:05.367 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-05 15:20:05.368 +07:00 [DBG] Executing controller factory for controller MagicVilla.Controllers.UsersController (MagicVilla)
2023-07-05 15:20:05.656 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-05 15:20:05.693 +07:00 [DBG] Executed controller factory for controller MagicVilla.Controllers.UsersController (MagicVilla)
2023-07-05 15:20:05.703 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO' ...
2023-07-05 15:20:05.706 +07:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO' using the name '' in request data ...
2023-07-05 15:20:05.707 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-05 15:20:05.717 +07:00 [DBG] Connection id "0HMRT6210HV6V", Request id "0HMRT6210HV6V:00000002": started reading request body.
2023-07-05 15:20:05.718 +07:00 [DBG] Connection id "0HMRT6210HV6V", Request id "0HMRT6210HV6V:00000002": done reading request body.
2023-07-05 15:20:05.724 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'MagicVilla.Models.DTO.LoginRequestDTO'
2023-07-05 15:20:05.724 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO'.
2023-07-05 15:20:05.724 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO'.
2023-07-05 15:20:05.724 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO' ...
2023-07-05 15:20:05.735 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla.Models.DTO.LoginRequestDTO'.
2023-07-05 15:20:06.685 +07:00 [INF] Entity Framework Core 6.0.19 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.19' with options: None
2023-07-05 15:20:06.806 +07:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(u => u.UserName.ToLower() == __ToLower_0 && u.Password == __loginRequestDTO_Password_1)'
2023-07-05 15:20:07.405 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE (LOWER(l.UserName) == @__ToLower_0) && (l.Password == @__loginRequestDTO_Password_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    MagicVilla.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2023-07-05 15:20:07.504 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-05 15:20:07.586 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (74ms).
2023-07-05 15:20:07.619 +07:00 [DBG] Opening connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 15:20:08.139 +07:00 [DBG] Opened connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 15:20:08.158 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE (LOWER([l].[UserName]) = @__ToLower_0) AND ([l].[Password] = @__loginRequestDTO_Password_1)
2023-07-05 15:20:08.280 +07:00 [INF] Executed DbCommand (124ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE (LOWER([l].[UserName]) = @__ToLower_0) AND ([l].[Password] = @__loginRequestDTO_Password_1)
2023-07-05 15:20:08.348 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 15:20:08.397 +07:00 [DBG] A data reader was disposed.
2023-07-05 15:20:08.401 +07:00 [DBG] Closing connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 15:20:08.413 +07:00 [DBG] Closed connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 15:20:08.648 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-05 15:20:08.650 +07:00 [DBG] No information found on request to perform content negotiation.
2023-07-05 15:20:08.650 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-05 15:20:08.650 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-05 15:20:08.650 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-05 15:20:08.651 +07:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla.Models.APIResponse'.
2023-07-05 15:20:08.662 +07:00 [INF] Executed action MagicVilla.Controllers.UsersController.Login (MagicVilla) in 3290.0278ms
2023-07-05 15:20:08.663 +07:00 [INF] Executed endpoint 'MagicVilla.Controllers.UsersController.Login (MagicVilla)'
2023-07-05 15:20:08.663 +07:00 [DBG] Connection id "0HMRT6210HV6V" completed keep alive response.
2023-07-05 15:20:08.668 +07:00 [DBG] 'ApplicationDbContext' disposed.
2023-07-05 15:20:08.675 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5240/api/UsersAuth/login application/json 55 - 200 - application/json;+charset=utf-8 3358.7102ms
2023-07-05 15:20:12.019 +07:00 [DBG] Connection id "0HMRT6210HV6V" received FIN.
2023-07-05 15:20:12.019 +07:00 [DBG] Connection id "0HMRT6210HV6V" sending FIN because: "The client closed the connection."
2023-07-05 15:20:12.019 +07:00 [DBG] Connection id "0HMRT6210HV6V" disconnecting.
2023-07-05 15:20:12.019 +07:00 [DBG] Connection id "0HMRT6210HV6V" stopped.
2023-07-05 15:20:22.170 +07:00 [DBG] Connection id "0HMRT6210HV70" accepted.
2023-07-05 15:20:22.170 +07:00 [DBG] Connection id "0HMRT6210HV70" started.
2023-07-05 15:20:22.170 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5240/api/VillaAPI application/json 147
2023-07-05 15:20:22.170 +07:00 [DBG] POST requests are not supported
2023-07-05 15:20:22.285 +07:00 [DBG] Successfully validated the token.
2023-07-05 15:20:22.286 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-07-05 15:20:22.287 +07:00 [DBG] 1 candidate(s) found for the request path '/api/VillaAPI'
2023-07-05 15:20:22.287 +07:00 [DBG] Endpoint 'MagicVilla.Controllers.VillaAPIController.CreateVilla (MagicVilla)' with route pattern 'api/VillaAPI' is valid for the request path '/api/VillaAPI'
2023-07-05 15:20:22.287 +07:00 [DBG] Request matched endpoint 'MagicVilla.Controllers.VillaAPIController.CreateVilla (MagicVilla)'
2023-07-05 15:20:22.287 +07:00 [DBG] Authorization was successful.
2023-07-05 15:20:22.288 +07:00 [INF] Executing endpoint 'MagicVilla.Controllers.VillaAPIController.CreateVilla (MagicVilla)'
2023-07-05 15:20:22.290 +07:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla.Models.DTO.VillaDTO]] CreateVilla(MagicVilla.Models.DTO.CreateVillaDTO) on controller MagicVilla.Controllers.VillaAPIController (MagicVilla).
2023-07-05 15:20:22.290 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-05 15:20:22.290 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-05 15:20:22.290 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-05 15:20:22.290 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-05 15:20:22.290 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-05 15:20:22.290 +07:00 [DBG] Executing controller factory for controller MagicVilla.Controllers.VillaAPIController (MagicVilla)
2023-07-05 15:20:22.452 +07:00 [DBG] Executed controller factory for controller MagicVilla.Controllers.VillaAPIController (MagicVilla)
2023-07-05 15:20:22.453 +07:00 [DBG] Attempting to bind parameter 'villaDTO' of type 'MagicVilla.Models.DTO.CreateVillaDTO' ...
2023-07-05 15:20:22.453 +07:00 [DBG] Attempting to bind parameter 'villaDTO' of type 'MagicVilla.Models.DTO.CreateVillaDTO' using the name '' in request data ...
2023-07-05 15:20:22.453 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-05 15:20:22.455 +07:00 [DBG] Connection id "0HMRT6210HV70", Request id "0HMRT6210HV70:00000002": started reading request body.
2023-07-05 15:20:22.455 +07:00 [DBG] Connection id "0HMRT6210HV70", Request id "0HMRT6210HV70:00000002": done reading request body.
2023-07-05 15:20:22.459 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'MagicVilla.Models.DTO.CreateVillaDTO'
2023-07-05 15:20:22.459 +07:00 [DBG] Done attempting to bind parameter 'villaDTO' of type 'MagicVilla.Models.DTO.CreateVillaDTO'.
2023-07-05 15:20:22.459 +07:00 [DBG] Done attempting to bind parameter 'villaDTO' of type 'MagicVilla.Models.DTO.CreateVillaDTO'.
2023-07-05 15:20:22.459 +07:00 [DBG] Attempting to validate the bound parameter 'villaDTO' of type 'MagicVilla.Models.DTO.CreateVillaDTO' ...
2023-07-05 15:20:22.464 +07:00 [DBG] Done attempting to validate the bound parameter 'villaDTO' of type 'MagicVilla.Models.DTO.CreateVillaDTO'.
2023-07-05 15:20:22.501 +07:00 [INF] Entity Framework Core 6.0.19 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.19' with options: None
2023-07-05 15:20:22.616 +07:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Id.Villa'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 15:20:22.674 +07:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 15:20:22.691 +07:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-07-05 15:20:22.700 +07:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-07-05 15:20:22.731 +07:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-07-05 15:20:22.792 +07:00 [DBG] Opening connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 15:20:22.804 +07:00 [DBG] Opened connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 15:20:22.811 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-05 15:20:22.839 +07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-07-05 15:20:22.945 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-05 15:20:22.945 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-05 15:20:22.951 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Villas] ([Amenity], [CreatedDate], [Details], [ImageUrl], [Name], [Occupancy], [Rate], [Sqft], [UpdatedDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Villas]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-07-05 15:20:23.053 +07:00 [INF] Executed DbCommand (104ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Villas] ([Amenity], [CreatedDate], [Details], [ImageUrl], [Name], [Occupancy], [Rate], [Sqft], [UpdatedDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Villas]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-07-05 15:20:23.092 +07:00 [DBG] The foreign key property 'Villa.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-05 15:20:23.107 +07:00 [DBG] A data reader was disposed.
2023-07-05 15:20:23.124 +07:00 [DBG] Committing transaction.
2023-07-05 15:20:23.133 +07:00 [DBG] Committed transaction.
2023-07-05 15:20:23.141 +07:00 [DBG] Closing connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 15:20:23.142 +07:00 [DBG] Closed connection to database 'Magic_VillaAPI' on server '(local)'.
2023-07-05 15:20:23.148 +07:00 [DBG] Disposing transaction.
2023-07-05 15:20:23.169 +07:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-05 15:20:23.176 +07:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-07-05 15:20:23.186 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-05 15:20:23.188 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-07-05 15:20:23.189 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-07-05 15:20:23.189 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-05 15:20:23.189 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-05 15:20:23.189 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-05 15:20:23.189 +07:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla.Models.Villa'.
2023-07-05 15:20:23.197 +07:00 [INF] Executed action MagicVilla.Controllers.VillaAPIController.CreateVilla (MagicVilla) in 906.7056ms
2023-07-05 15:20:23.198 +07:00 [INF] Executed endpoint 'MagicVilla.Controllers.VillaAPIController.CreateVilla (MagicVilla)'
2023-07-05 15:20:23.201 +07:00 [DBG] Connection id "0HMRT6210HV70" completed keep alive response.
2023-07-05 15:20:23.202 +07:00 [DBG] 'ApplicationDbContext' disposed.
2023-07-05 15:20:23.202 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5240/api/VillaAPI application/json 147 - 200 - application/json;+charset=utf-8 1031.6809ms
2023-07-05 15:20:27.019 +07:00 [DBG] Connection id "0HMRT6210HV70" received FIN.
2023-07-05 15:20:27.019 +07:00 [DBG] Connection id "0HMRT6210HV70" sending FIN because: "The client closed the connection."
2023-07-05 15:20:27.020 +07:00 [DBG] Connection id "0HMRT6210HV70" disconnecting.
2023-07-05 15:20:27.020 +07:00 [DBG] Connection id "0HMRT6210HV70" stopped.
